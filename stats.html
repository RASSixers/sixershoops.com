<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Philadelphia 76ers Stats - SixersHoops</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link rel="apple-touch-icon" href="favicon.ico" />
  <meta name="description" content="Comprehensive Philadelphia 76ers statistics, player performance metrics, team analytics, and interactive data visualizations." />
  <meta name="keywords" content="Philadelphia 76ers stats, Sixers statistics, NBA analytics, player performance, team metrics" />
  
  <!-- Include the navbar CSS -->
  <link rel="stylesheet" href="navbar-styles.css">
  
  <!-- Stats enhancements CSS -->
  <link rel="stylesheet" href="stats-enhancements.css">
  
  <!-- Chart.js for data visualization -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
  
  <!-- Google Analytics 4 (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T1V9Q0MNEM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-T1V9Q0MNEM');
  </script>
  
  <style>
    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      color: #1e293b;
      line-height: 1.6;
      padding-top: 80px;
      margin: 0;
    }

    /* Main Container */
    .main-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
    }

    /* Header Section - Same as roster.html */
    .page-header {
      text-align: center;
      margin-bottom: 3rem;
      padding: 3rem 0;
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      border-radius: 20px;
      color: white;
      position: relative;
      overflow: hidden;
    }

    .page-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(59, 130, 246, 0.1), transparent);
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%, 100% { transform: translateX(-100%); }
      50% { transform: translateX(100%); }
    }

    .page-title {
      font-size: 3.5rem;
      font-weight: 900;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffffff 0%, #3b82f6 50%, #06b6d4 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      position: relative;
      z-index: 1;
    }

    .page-subtitle {
      font-size: 1.2rem;
      color: #94a3b8;
      font-weight: 500;
      position: relative;
      z-index: 1;
      margin-bottom: 2rem;
    }

    /* Content wrapper */
    .content-wrapper {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Main content */
    .stats-main-content {
      background: white;
      border-radius: 20px;
      padding: 2.5rem;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(59, 130, 246, 0.1);
      position: relative;
      overflow: hidden;
    }

    .stats-main-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #3b82f6, #06b6d4, #8b5cf6);
    }

    /* Controls Section */
    .controls-section {
      background: rgba(248, 250, 252, 0.8);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 4px 16px rgba(30, 41, 59, 0.08);
      border: 1px solid #e2e8f0;
    }

    /* Control Panel */
    .control-panel {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      min-width: 180px;
    }

    .control-label {
      font-size: 0.9rem;
      font-weight: 700;
      color: #1e293b;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .control-select, .control-input {
      padding: 0.8rem 1rem;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      background: white;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      color: #1e293b;
    }

    .control-select:focus, .control-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      transform: translateY(-2px);
    }

    .control-select:hover, .control-input:hover {
      border-color: #3b82f6;
      transform: translateY(-1px);
    }

    /* Filter Buttons */
    .filter-buttons {
      display: flex;
      justify-content: center;
      gap: 0.8rem;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 0.7rem 1.2rem;
      border: 2px solid #e2e8f0;
      background: #ffffff;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 600;
      font-size: 0.9rem;
      color: #475569;
      position: relative;
    }

    .filter-btn::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 3px;
      background: linear-gradient(90deg, #3b82f6, #06b6d4);
      border-radius: 2px;
      transition: width 0.3s ease;
    }

    .filter-btn:hover, .filter-btn.active {
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      color: #ffffff;
      border-color: #3b82f6;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
    }

    .filter-btn:hover::before, .filter-btn.active::before {
      width: 100%;
    }

    /* Player Stats Grid */
    .player-stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    /* Player Stat Cards */
    .player-stat-card {
      background: #ffffff;
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 4px 16px rgba(30, 41, 59, 0.08), 0 0 0 1px rgba(59, 130, 246, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      border-top: 3px solid #3b82f6;
    }

    .player-stat-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
      transition: left 0.5s;
    }

    .player-stat-card:hover::before {
      left: 100%;
    }

    .player-stat-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 12px 35px rgba(30, 41, 59, 0.15), 0 0 0 1px rgba(59, 130, 246, 0.3);
      border-top-color: #1d4ed8;
    }

    /* Player Header */
    .player-stat-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .player-stat-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-size: 1.5rem;
      font-weight: 700;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
      position: relative;
    }

    .player-stat-avatar::after {
      content: "";
      position: absolute;
      inset: 2px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(255,255,255,0.2), transparent);
    }

    .player-stat-info {
      flex: 1;
    }

    .player-stat-name {
      font-size: 1.3rem;
      font-weight: 900;
      color: #1e293b;
      margin-bottom: 0.3rem;
      font-family: Georgia, serif;
    }

    .player-stat-position {
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
      color: #475569;
      padding: 0.3rem 0.8rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
      display: inline-block;
      border: 1px solid #e2e8f0;
    }

    /* Stats Grid within Card */
    .player-stats-display {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 1rem;
    }

    .stat-item {
      text-align: center;
      padding: 0.8rem;
      background: #f8fafc;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      transition: all 0.3s ease;
    }

    .stat-item:hover {
      background: #f1f5f9;
      transform: translateY(-2px);
    }

    .stat-value {
      font-size: 1.4rem;
      font-weight: 900;
      color: #3b82f6;
      margin-bottom: 0.2rem;
    }

    .stat-label {
      font-size: 0.7rem;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    /* Player Stats Modal */
    .stats-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(8px);
      z-index: 1000;
      animation: fadeIn 0.3s ease;
    }

    .stats-modal.show {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }

    .modal-content {
      background: white;
      border-radius: 24px;
      width: 90%;
      max-width: 1200px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
      animation: slideUp 0.3s ease;
      position: relative;
    }

    .modal-header {
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      color: white;
      padding: 2rem;
      border-radius: 24px 24px 0 0;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .modal-player-info {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }

    .modal-player-avatar {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: 900;
      color: white;
      border: 4px solid rgba(255, 255, 255, 0.2);
    }

    .modal-player-details h2 {
      font-size: 2.5rem;
      font-weight: 900;
      margin: 0;
      background: linear-gradient(135deg, #ffffff, #e2e8f0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .modal-player-meta {
      font-size: 1.2rem;
      opacity: 0.9;
      margin-top: 0.5rem;
    }

    .modal-close {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .modal-close:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
    }

    .modal-body {
      padding: 2rem;
    }

    .stats-section {
      margin-bottom: 3rem;
    }

    .stats-section h3 {
      font-size: 1.5rem;
      font-weight: 800;
      color: #1e293b;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .stats-section h3::before {
      content: '';
      width: 4px;
      height: 24px;
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      border-radius: 2px;
    }

    .modal-stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 1.5rem;
    }

    .modal-stat-item {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      padding: 1.5rem;
      border-radius: 16px;
      text-align: center;
      border: 1px solid #e2e8f0;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .modal-stat-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .modal-stat-item:hover {
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
      transform: translateY(-4px);
      box-shadow: 0 10px 25px rgba(59, 130, 246, 0.15);
    }

    .modal-stat-item:hover::before {
      transform: scaleX(1);
    }

    .modal-stat-value {
      font-size: 2rem;
      font-weight: 900;
      color: #1e293b;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .modal-stat-label {
      font-size: 0.9rem;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 700;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(50px) scale(0.95);
      }
      to { 
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* View Details Button */
    .view-details-btn {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .view-details-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
    }

    /* Chart Container */
    .chart-container {
      position: relative;
      height: 300px;
      margin-bottom: 1rem;
    }

    .chart-container canvas {
      border-radius: 10px;
    }

    /* Player Stats Table */
    .player-stats-section {
      background: white;
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }

    .section-title {
      font-size: 1.8rem;
      font-weight: 800;
      color: #1e293b;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .section-title::before {
      content: '';
      width: 4px;
      height: 30px;
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      border-radius: 2px;
    }

    /* Table Styles */
    .stats-table-container {
      overflow-x: auto;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
    }

    .stats-table {
      width: 100%;
      border-collapse: collapse;
      background: white;
    }

    .stats-table th {
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      color: white;
      padding: 1rem;
      text-align: left;
      font-weight: 600;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .stats-table th:first-child {
      border-top-left-radius: 12px;
    }

    .stats-table th:last-child {
      border-top-right-radius: 12px;
    }

    .stats-table td {
      padding: 1rem;
      border-bottom: 1px solid #f1f5f9;
      transition: all 0.3s ease;
    }

    .stats-table tr:hover td {
      background: #f8fafc;
    }

    .stats-table tr:last-child td {
      border-bottom: none;
    }

    .player-name {
      font-weight: 600;
      color: #1e293b;
    }

    .stat-value {
      font-weight: 600;
      color: #3b82f6;
    }

    /* Loading States */
    .loading {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 200px;
      color: #64748b;
    }

    .loading::after {
      content: '';
      width: 40px;
      height: 40px;
      border: 4px solid #e2e8f0;
      border-top: 4px solid #3b82f6;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-left: 1rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Update Indicator */
    .update-indicator {
      position: fixed;
      top: 100px;
      right: 2rem;
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 50px;
      font-weight: 600;
      box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
      transform: translateX(300px);
      transition: transform 0.3s ease;
      z-index: 1000;
    }

    .update-indicator.show {
      transform: translateX(0);
    }

    /* No Players Message */
    .no-players {
      text-align: center;
      padding: 3rem;
      color: #64748b;
      font-size: 1.1rem;
      font-weight: 600;
      background: #f8fafc;
      border-radius: 16px;
      border: 2px dashed #e2e8f0;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main-container {
        padding: 1rem;
      }

      .page-title {
        font-size: 2.5rem;
      }

      .control-panel {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
      }

      .control-group {
        min-width: 100%;
        max-width: 300px;
      }

      .filter-buttons {
        flex-direction: column;
        align-items: center;
      }

      .filter-btn {
        min-width: 200px;
      }

      .player-stats-grid {
        grid-template-columns: 1fr;
      }

      .player-stat-card {
        padding: 1rem;
      }

      .player-stat-name {
        font-size: 1.1rem;
      }

      .player-stats-display {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 0.5rem;
      }

      .stat-item {
        padding: 0.5rem;
      }

      .stat-value {
        font-size: 1.2rem;
      }
    }

    @media (max-width: 480px) {
      .page-title {
        font-size: 2rem;
      }

      .player-stats-display {
        grid-template-columns: repeat(2, 1fr);
      }

      .controls-section {
        padding: 1rem;
      }

      .stats-main-content {
        padding: 1.5rem;
      }
    }

    /* Advanced Features */
    .comparison-mode {
      background: linear-gradient(135deg, #fbbf24, #f59e0b);
      color: white;
      padding: 1rem;
      border-radius: 12px;
      margin-bottom: 2rem;
      text-align: center;
      font-weight: 600;
    }

    .filter-chips {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }

    .filter-chip {
      background: #3b82f6;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-chip:hover {
      background: #2563eb;
      transform: scale(1.05);
    }

    .filter-chip.active {
      background: #1d4ed8;
      box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
    }

    /* Performance Indicators */
    .performance-indicator {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .performance-indicator.excellent {
      background: #dcfce7;
      color: #166534;
    }

    .performance-indicator.good {
      background: #fef3c7;
      color: #92400e;
    }

    .performance-indicator.average {
      background: #fee2e2;
      color: #991b1b;
    }

    /* Trend Arrows */
    .trend-arrow {
      display: inline-block;
      margin-left: 0.5rem;
      font-size: 0.8rem;
    }

    .trend-up {
      color: #10b981;
    }

    .trend-down {
      color: #ef4444;
    }

    .trend-neutral {
      color: #64748b;
    }
  </style>
</head>
<body>
  <!-- Navigation will be injected by nav.js -->
  
  <!-- Update Indicator -->
  <div class="update-indicator" id="updateIndicator">
    📊 Stats Updated!
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <button class="action-button tooltip" onclick="exportStatsData('json')" title="Export Data">
      📊
      <span class="tooltiptext">Export stats to JSON</span>
    </button>
    <button class="action-button tooltip" onclick="window.sixersStats.updateAllData()" title="Refresh Data">
      🔄
      <span class="tooltiptext">Refresh all data</span>
    </button>
    <button class="action-button tooltip" onclick="enableComparisonMode()" title="Compare Players">
      ⚖️
      <span class="tooltiptext">Compare players</span>
    </button>
    <button class="action-button tooltip" onclick="window.print()" title="Print Stats">
      🖨️
      <span class="tooltiptext">Print statistics</span>
    </button>
  </div>

  <div class="main-container">
    <!-- Header Section -->
    <div class="page-header">
      <h1 class="page-title">Philadelphia 76ers Statistics</h1>
      <p class="page-subtitle">Real-time analytics, player performance, and team insights</p>
    </div>

    <div class="content-wrapper">
      <div class="stats-main-content">
        <!-- Controls Section -->
        <div class="controls-section">
          <!-- Control Panel -->
          <div class="control-panel">
            <div class="control-group">
              <label class="control-label">Season</label>
              <select class="control-select" id="seasonSelect">
                <option value="2024-25">2024-25</option>
                <option value="2023-24">2023-24</option>
                <option value="2022-23">2022-23</option>
                <option value="2021-22">2021-22</option>
                <option value="2020-21">2020-21</option>
              </select>
            </div>
            
            <div class="control-group">
              <label class="control-label">Game Type</label>
              <select class="control-select" id="gameTypeSelect">
                <option value="regular">Regular Season</option>
                <option value="playoffs">Playoffs</option>
                <option value="all">All Games</option>
              </select>
            </div>
            
            <div class="control-group">
              <label class="control-label">Stat Category</label>
              <select class="control-select" id="statCategorySelect">
                <option value="basic">Basic Stats</option>
                <option value="advanced">Advanced Stats</option>
                <option value="shooting">Shooting Stats</option>
                <option value="defense">Defense Stats</option>
              </select>
            </div>
          </div>

          <!-- Filter Buttons -->
          <div class="filter-buttons">
            <div class="filter-btn active" data-filter="all">All Players</div>
            <div class="filter-btn" data-filter="guards">Guards</div>
            <div class="filter-btn" data-filter="forwards">Forwards</div>
            <div class="filter-btn" data-filter="centers">Centers</div>
          </div>
        </div>

        <!-- Player Stats Grid -->
        <div class="player-stats-grid" id="playerStatsGrid">
          <!-- Player stat cards will be dynamically generated here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Player Stats Modal -->
  <div class="stats-modal" id="statsModal">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-close" onclick="closeStatsModal()">&times;</div>
        <div class="modal-player-info">
          <div class="modal-player-avatar" id="modalPlayerAvatar"></div>
          <div class="modal-player-details">
            <h2 id="modalPlayerName"></h2>
            <div class="modal-player-meta" id="modalPlayerMeta"></div>
          </div>
        </div>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Stats sections will be dynamically generated here -->
      </div>
    </div>
  </div>

  <!-- Team Overview Cards (hidden for now) -->
    <div class="stats-grid">
      <!-- Team Record Card -->
      <div class="stat-card">
        <div class="stat-card-header">
          <h3 class="stat-card-title">Team Record</h3>
          <div class="stat-card-icon">🏆</div>
        </div>
        <div class="chart-container">
          <canvas id="recordChart"></canvas>
        </div>
        <div id="recordStats"></div>
      </div>

      <!-- Scoring Stats Card -->
      <div class="stat-card">
        <div class="stat-card-header">
          <h3 class="stat-card-title">Scoring Average</h3>
          <div class="stat-card-icon">🏀</div>
        </div>
        <div class="chart-container">
          <canvas id="scoringChart"></canvas>
        </div>
        <div id="scoringStats"></div>
      </div>

      <!-- Defensive Stats Card -->
      <div class="stat-card">
        <div class="stat-card-header">
          <h3 class="stat-card-title">Defensive Rating</h3>
          <div class="stat-card-icon">🛡️</div>
        </div>
        <div class="chart-container">
          <canvas id="defenseChart"></canvas>
        </div>
        <div id="defenseStats"></div>
      </div>

      <!-- Efficiency Card -->
      <div class="stat-card">
        <div class="stat-card-header">
          <h3 class="stat-card-title">Team Efficiency</h3>
          <div class="stat-card-icon">⚡</div>
        </div>
        <div class="chart-container">
          <canvas id="efficiencyChart"></canvas>
        </div>
        <div id="efficiencyStats"></div>
      </div>
    </div>

    <!-- Player Statistics Section -->
    <div class="player-stats-section">
      <h2 class="section-title">Player Statistics</h2>
      
      <div class="control-panel">
        <div class="control-group">
          <label class="control-label">Sort By</label>
          <select class="control-select" id="sortSelect">
            <option value="points">Points</option>
            <option value="rebounds">Rebounds</option>
            <option value="assists">Assists</option>
            <option value="efficiency">Efficiency</option>
            <option value="minutes">Minutes</option>
          </select>
        </div>
        
        <div class="control-group">
          <label class="control-label">Min Games</label>
          <input type="number" class="control-input" id="minGamesInput" value="10" min="1" max="82">
        </div>
      </div>

      <div class="stats-table-container">
        <table class="stats-table" id="playerStatsTable">
          <thead>
            <tr>
              <th>Player</th>
              <th>GP</th>
              <th>MIN</th>
              <th>PTS</th>
              <th>REB</th>
              <th>AST</th>
              <th>FG%</th>
              <th>3P%</th>
              <th>FT%</th>
              <th>EFF</th>
              <th>Trend</th>
            </tr>
          </thead>
          <tbody id="playerStatsBody">
            <tr>
              <td colspan="11" class="loading">Loading player statistics...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Advanced Analytics Section -->
    <div class="player-stats-section">
      <h2 class="section-title">Advanced Analytics</h2>
      
      <div class="stats-grid">
        <!-- Shot Chart -->
        <div class="stat-card">
          <div class="stat-card-header">
            <h3 class="stat-card-title">Shot Chart</h3>
            <div class="stat-card-icon">🎯</div>
          </div>
          <div class="chart-container">
            <canvas id="shotChart"></canvas>
          </div>
        </div>

        <!-- Performance by Quarter -->
        <div class="stat-card">
          <div class="stat-card-header">
            <h3 class="stat-card-title">Performance by Quarter</h3>
            <div class="stat-card-icon">⏱️</div>
          </div>
          <div class="chart-container">
            <canvas id="quarterChart"></canvas>
          </div>
        </div>

        <!-- Home vs Away -->
        <div class="stat-card">
          <div class="stat-card-header">
            <h3 class="stat-card-title">Home vs Away</h3>
            <div class="stat-card-icon">🏠</div>
          </div>
          <div class="chart-container">
            <canvas id="homeAwayChart"></canvas>
          </div>
        </div>

        <!-- Clutch Performance -->
        <div class="stat-card">
          <div class="stat-card-header">
            <h3 class="stat-card-title">Clutch Performance</h3>
            <div class="stat-card-icon">🔥</div>
          </div>
          <div class="chart-container">
            <canvas id="clutchChart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Include navigation JavaScript -->
  <script src="nav.js"></script>
  
  <!-- NBA API Integration -->
  <script src="nba-api.js"></script>
  
  <!-- Stats JavaScript -->
  <script>
    // Philadelphia 76ers Player Stats Data by Season
    const seasonStatsData = {
      '2024-25': [
        {
          name: "Joel Embiid", position: "C", jersey: "21", category: "centers",
          stats: {
            basic: { gp: 34, mpg: 34.6, ppg: 34.7, rpg: 11.0, apg: 5.6, spg: 1.2, bpg: 1.7, fg: 52.9, fg3: 39.0, ft: 88.3 },
            advanced: { per: 31.2, ts: 65.5, usg: 36.8, ortg: 118.2, drtg: 108.2, bpm: 9.8, vorp: 8.2, ws: 12.1, ows: 8.9, dws: 3.2 },
            shooting: { fga: 20.1, fgm: 10.6, fg3a: 4.1, fg3m: 1.6, fta: 11.1, ftm: 9.8, efg: 59.2, tsp: 65.5, ftr: 0.52 },
            defense: { drb: 8.5, orb: 2.5, stl: 1.2, blk: 1.7, pf: 3.4, tov: 3.9, drtg: 108.2, dbpm: 3.1 }
          }
        },
        {
          name: "Tyrese Maxey", position: "PG", jersey: "0", category: "guards",
          stats: {
            basic: { gp: 43, mpg: 37.8, ppg: 25.9, rpg: 3.7, apg: 6.2, spg: 1.0, bpg: 0.4, fg: 45.0, fg3: 37.3, ft: 86.8 },
            advanced: { per: 21.8, ts: 56.3, usg: 28.5, ortg: 112.8, drtg: 115.8, bpm: 4.2, vorp: 4.1, ws: 7.2, ows: 5.1, dws: 2.1 },
            shooting: { fga: 19.8, fgm: 8.9, fg3a: 8.1, fg3m: 3.0, fta: 4.2, ftm: 3.6, efg: 51.2, tsp: 56.3, ftr: 0.21 },
            defense: { drb: 2.9, orb: 0.8, stl: 1.0, blk: 0.4, pf: 2.1, tov: 3.4, drtg: 115.8, dbpm: -1.6 }
          }
        },
        {
          name: "Paul George", position: "SF", jersey: "8", category: "forwards",
          stats: {
            basic: { gp: 35, mpg: 32.8, ppg: 22.6, rpg: 5.2, apg: 3.5, spg: 2.0, bpg: 0.5, fg: 47.1, fg3: 41.3, ft: 90.7 },
            advanced: { per: 20.8, ts: 58.3, usg: 27.1, ortg: 115.2, drtg: 112.4, bpm: 3.8, vorp: 3.2, ws: 5.8, ows: 4.2, dws: 1.6 },
            shooting: { fga: 16.2, fgm: 7.6, fg3a: 7.8, fg3m: 3.2, fta: 2.9, ftm: 2.6, efg: 54.1, tsp: 58.3, ftr: 0.18 },
            defense: { drb: 4.1, orb: 1.1, stl: 2.0, blk: 0.5, pf: 2.8, tov: 2.4, drtg: 112.4, dbpm: 1.2 }
          }
        },
        {
          name: "Kelly Oubre Jr.", position: "SF", jersey: "9", category: "forwards",
          stats: {
            basic: { gp: 50, mpg: 32.1, ppg: 15.4, rpg: 5.1, apg: 1.5, spg: 1.1, bpg: 0.8, fg: 53.0, fg3: 20.0, ft: 68.4 },
            advanced: { per: 16.2, ts: 58.1, usg: 19.8, ortg: 114.2, drtg: 114.2, bpm: 1.2, vorp: 1.8, ws: 4.1, ows: 2.8, dws: 1.3 },
            shooting: { fga: 10.8, fgm: 5.7, fg3a: 1.5, fg3m: 0.3, fta: 1.9, ftm: 1.3, efg: 55.3, tsp: 58.1, ftr: 0.18 },
            defense: { drb: 4.2, orb: 0.9, stl: 1.1, blk: 0.8, pf: 2.4, tov: 1.8, drtg: 114.2, dbpm: 0.2 }
          }
        },
        {
          name: "Andre Drummond", position: "C", jersey: "1", category: "centers",
          stats: {
            basic: { gp: 45, mpg: 16.2, ppg: 7.9, rpg: 8.4, apg: 2.4, spg: 0.8, bpg: 0.8, fg: 56.3, fg3: 0.0, ft: 71.8 },
            advanced: { per: 18.1, ts: 58.2, usg: 16.8, ortg: 112.8, drtg: 112.8, bpm: 2.1, vorp: 1.2, ws: 2.8, ows: 1.2, dws: 1.6 },
            shooting: { fga: 5.8, fgm: 3.3, fg3a: 0.0, fg3m: 0.0, fta: 2.4, ftm: 1.7, efg: 56.3, tsp: 58.2, ftr: 0.41 },
            defense: { drb: 6.9, orb: 1.5, stl: 0.8, blk: 0.8, pf: 2.1, tov: 1.4, drtg: 112.8, dbpm: 1.8 }
          }
        },
        {
          name: "Kyle Lowry", position: "PG", jersey: "7", category: "guards",
          stats: {
            basic: { gp: 44, mpg: 26.1, ppg: 8.2, rpg: 3.2, apg: 4.6, spg: 1.2, bpg: 0.2, fg: 42.3, fg3: 35.2, ft: 87.0 },
            advanced: { per: 13.8, ts: 54.1, usg: 16.2, ortg: 108.5, drtg: 113.5, bpm: 1.8, vorp: 1.0, ws: 2.1, ows: 1.2, dws: 0.9 },
            shooting: { fga: 7.8, fgm: 3.3, fg3a: 4.2, fg3m: 1.5, fta: 1.2, ftm: 1.0, efg: 48.9, tsp: 54.1, ftr: 0.15 },
            defense: { drb: 2.8, orb: 0.4, stl: 1.2, blk: 0.2, pf: 1.8, tov: 1.9, drtg: 113.5, dbpm: 0.8 }
          }
        },
        {
          name: "Eric Gordon", position: "SG", jersey: "23", category: "guards",
          stats: {
            basic: { gp: 32, mpg: 20.4, ppg: 11.0, rpg: 1.8, apg: 2.0, spg: 0.6, bpg: 0.3, fg: 44.3, fg3: 37.8, ft: 81.5 },
            advanced: { per: 12.8, ts: 55.8, usg: 18.4, ortg: 110.2, drtg: 115.2, bpm: 0.2, vorp: 0.8, ws: 1.4, ows: 1.0, dws: 0.4 },
            shooting: { fga: 8.2, fgm: 3.6, fg3a: 5.1, fg3m: 1.9, fta: 1.1, ftm: 0.9, efg: 52.1, tsp: 55.8, ftr: 0.13 },
            defense: { drb: 1.5, orb: 0.3, stl: 0.6, blk: 0.3, pf: 1.4, tov: 1.2, drtg: 115.2, dbpm: -0.8 }
          }
        },
        {
          name: "Jared McCain", position: "PG", jersey: "20", category: "guards",
          stats: {
            basic: { gp: 23, mpg: 25.1, ppg: 16.3, rpg: 2.4, apg: 2.6, spg: 0.9, bpg: 0.1, fg: 38.3, fg3: 38.3, ft: 88.9 },
            advanced: { per: 15.2, ts: 55.2, usg: 22.1, ortg: 108.4, drtg: 118.4, bpm: -0.8, vorp: 0.4, ws: 1.2, ows: 1.0, dws: 0.2 },
            shooting: { fga: 12.8, fgm: 4.9, fg3a: 6.4, fg3m: 2.5, fta: 2.7, ftm: 2.4, efg: 50.8, tsp: 55.2, ftr: 0.21 },
            defense: { drb: 2.0, orb: 0.4, stl: 0.9, blk: 0.1, pf: 1.8, tov: 1.4, drtg: 118.4, dbpm: -2.1 }
          }
        },
        {
          name: "Caleb Martin", position: "SF", jersey: "16", category: "forwards",
          stats: {
            basic: { gp: 38, mpg: 18.2, ppg: 6.4, rpg: 4.1, apg: 1.2, spg: 0.8, bpg: 0.4, fg: 41.2, fg3: 34.1, ft: 75.0 },
            advanced: { per: 11.8, ts: 52.1, usg: 14.2, ortg: 106.8, drtg: 114.8, bpm: -0.4, vorp: 0.2, ws: 1.1, ows: 0.6, dws: 0.5 },
            shooting: { fga: 6.2, fgm: 2.6, fg3a: 2.9, fg3m: 1.0, fta: 0.8, ftm: 0.6, efg: 48.8, tsp: 52.1, ftr: 0.13 },
            defense: { drb: 3.4, orb: 0.7, stl: 0.8, blk: 0.4, pf: 1.9, tov: 0.8, drtg: 114.8, dbpm: 0.1 }
          }
        },
        {
          name: "KJ Martin", position: "PF", jersey: "6", category: "forwards",
          stats: {
            basic: { gp: 28, mpg: 12.4, ppg: 4.2, rpg: 2.8, apg: 0.6, spg: 0.4, bpg: 0.3, fg: 48.1, fg3: 28.6, ft: 66.7 },
            advanced: { per: 10.2, ts: 51.8, usg: 12.8, ortg: 104.2, drtg: 116.2, bpm: -1.8, vorp: -0.1, ws: 0.4, ows: 0.2, dws: 0.2 },
            shooting: { fga: 3.8, fgm: 1.8, fg3a: 1.4, fg3m: 0.4, fta: 0.9, ftm: 0.6, efg: 53.2, tsp: 51.8, ftr: 0.24 },
            defense: { drb: 2.2, orb: 0.6, stl: 0.4, blk: 0.3, pf: 1.2, tov: 0.8, drtg: 116.2, dbpm: -1.2 }
          }
        },
        {
          name: "Reggie Jackson", position: "PG", jersey: "25", category: "guards",
          stats: {
            basic: { gp: 29, mpg: 14.8, ppg: 6.9, rpg: 1.4, apg: 2.8, spg: 0.5, bpg: 0.1, fg: 40.2, fg3: 32.4, ft: 83.3 },
            advanced: { per: 12.1, ts: 52.8, usg: 18.4, ortg: 106.8, drtg: 116.4, bpm: -1.2, vorp: 0.1, ws: 0.8, ows: 0.5, dws: 0.3 },
            shooting: { fga: 6.8, fgm: 2.7, fg3a: 3.4, fg3m: 1.1, fta: 0.6, ftm: 0.5, efg: 48.5, tsp: 52.8, ftr: 0.09 },
            defense: { drb: 1.2, orb: 0.2, stl: 0.5, blk: 0.1, pf: 1.1, tov: 1.4, drtg: 116.4, dbpm: -1.8 }
          }
        },
        {
          name: "Guerschon Yabusele", position: "PF", jersey: "28", category: "forwards",
          stats: {
            basic: { gp: 41, mpg: 17.1, ppg: 8.4, rpg: 4.8, apg: 1.4, spg: 0.6, bpg: 0.4, fg: 47.2, fg3: 35.8, ft: 78.9 },
            advanced: { per: 14.2, ts: 56.8, usg: 16.8, ortg: 112.4, drtg: 113.8, bpm: 0.8, vorp: 0.9, ws: 2.1, ows: 1.2, dws: 0.9 },
            shooting: { fga: 6.8, fgm: 3.2, fg3a: 2.4, fg3m: 0.9, fta: 1.9, ftm: 1.5, efg: 53.8, tsp: 56.8, ftr: 0.28 },
            defense: { drb: 3.8, orb: 1.0, stl: 0.6, blk: 0.4, pf: 2.1, tov: 1.2, drtg: 113.8, dbpm: 0.2 }
          }
        },
        {
          name: "Ricky Council IV", position: "SG", jersey: "12", category: "guards",
          stats: {
            basic: { gp: 18, mpg: 8.2, ppg: 3.1, rpg: 1.2, apg: 0.4, spg: 0.3, bpg: 0.1, fg: 38.5, fg3: 25.0, ft: 75.0 },
            advanced: { per: 8.4, ts: 48.2, usg: 14.2, ortg: 102.1, drtg: 118.2, bpm: -3.2, vorp: -0.2, ws: 0.1, ows: 0.1, dws: 0.0 },
            shooting: { fga: 3.9, fgm: 1.5, fg3a: 1.2, fg3m: 0.3, fta: 0.4, ftm: 0.3, efg: 42.3, tsp: 48.2, ftr: 0.10 },
            defense: { drb: 1.0, orb: 0.2, stl: 0.3, blk: 0.1, pf: 0.8, tov: 0.6, drtg: 118.2, dbpm: -2.8 }
          }
        },
        {
          name: "Adem Bona", position: "C", jersey: "35", category: "centers",
          stats: {
            basic: { gp: 15, mpg: 6.8, ppg: 2.4, rpg: 2.1, apg: 0.2, spg: 0.2, bpg: 0.4, fg: 52.9, fg3: 0.0, ft: 50.0 },
            advanced: { per: 12.1, ts: 54.2, usg: 12.8, ortg: 108.2, drtg: 114.2, bpm: -1.8, vorp: 0.0, ws: 0.2, ows: 0.1, dws: 0.1 },
            shooting: { fga: 1.7, fgm: 0.9, fg3a: 0.0, fg3m: 0.0, fta: 0.4, ftm: 0.2, efg: 52.9, tsp: 54.2, ftr: 0.24 },
            defense: { drb: 1.8, orb: 0.3, stl: 0.2, blk: 0.4, pf: 1.2, tov: 0.4, drtg: 114.2, dbpm: -0.8 }
          }
        },
        {
          name: "Jeff Dowtin Jr.", position: "PG", jersey: "21", category: "guards",
          stats: {
            basic: { gp: 8, mpg: 4.2, ppg: 1.8, rpg: 0.6, apg: 0.9, spg: 0.1, bpg: 0.0, fg: 33.3, fg3: 20.0, ft: 100.0 },
            advanced: { per: 8.2, ts: 45.8, usg: 16.2, ortg: 98.2, drtg: 118.8, bpm: -4.2, vorp: -0.1, ws: 0.0, ows: 0.0, dws: 0.0 },
            shooting: { fga: 2.1, fgm: 0.7, fg3a: 1.0, fg3m: 0.2, fta: 0.1, ftm: 0.1, efg: 38.1, tsp: 45.8, ftr: 0.05 },
            defense: { drb: 0.5, orb: 0.1, stl: 0.1, blk: 0.0, pf: 0.4, tov: 0.4, drtg: 118.8, dbpm: -3.8 }
          }
        }
      ],
      '2023-24': [
        {
          name: "Joel Embiid", position: "C", jersey: "21", category: "centers",
          stats: {
            basic: { gp: 39, mpg: 34.7, ppg: 34.7, rpg: 11.0, apg: 5.6, spg: 1.2, bpg: 1.7, fg: 52.9, fg3: 38.8, ft: 88.3 },
            advanced: { per: 31.2, ts: 65.5, usg: 36.8, ortg: 118.2, drtg: 108.2, bpm: 9.8, vorp: 8.2, ws: 12.1, ows: 8.9, dws: 3.2 },
            shooting: { fga: 20.1, fgm: 10.6, fg3a: 4.1, fg3m: 1.6, fta: 11.1, ftm: 9.8, efg: 59.2, tsp: 65.5, ftr: 0.52 },
            defense: { drb: 8.5, orb: 2.5, stl: 1.2, blk: 1.7, pf: 3.4, tov: 3.9, drtg: 108.2, dbpm: 3.1 }
          }
        },
        {
          name: "Tyrese Maxey", position: "PG", jersey: "0", category: "guards",
          stats: {
            basic: { gp: 70, mpg: 37.4, ppg: 25.9, rpg: 3.7, apg: 6.2, spg: 1.0, bpg: 0.4, fg: 45.0, fg3: 37.3, ft: 86.8 },
            advanced: { per: 21.8, ts: 56.3, usg: 28.5, ortg: 112.8, drtg: 115.8, bpm: 4.2, vorp: 4.1, ws: 7.2, ows: 5.1, dws: 2.1 },
            shooting: { fga: 19.8, fgm: 8.9, fg3a: 8.1, fg3m: 3.0, fta: 4.2, ftm: 3.6, efg: 51.2, tsp: 56.3, ftr: 0.21 },
            defense: { drb: 2.9, orb: 0.8, stl: 1.0, blk: 0.4, pf: 2.1, tov: 3.4, drtg: 115.8, dbpm: -1.6 }
          }
        },
        {
          name: "Tobias Harris", position: "PF", jersey: "12", category: "forwards",
          stats: {
            basic: { gp: 70, mpg: 32.8, ppg: 17.2, rpg: 6.5, apg: 3.1, spg: 1.0, bpg: 0.5, fg: 48.7, fg3: 35.3, ft: 87.8 },
            advanced: { per: 17.8, ts: 58.2, usg: 22.1, ortg: 115.2, drtg: 114.8, bpm: 2.1, vorp: 2.8, ws: 6.2, ows: 4.1, dws: 2.1 },
            shooting: { fga: 12.8, fgm: 6.2, fg3a: 3.4, fg3m: 1.2, fta: 2.3, ftm: 2.0, efg: 53.4, tsp: 58.2, ftr: 0.18 },
            defense: { drb: 5.3, orb: 1.2, stl: 1.0, blk: 0.5, pf: 2.4, tov: 1.8, drtg: 114.8, dbpm: 0.8 }
          }
        },
        {
          name: "Kelly Oubre Jr.", position: "SF", jersey: "9", category: "forwards",
          stats: {
            basic: { gp: 68, mpg: 30.1, ppg: 15.4, rpg: 5.0, apg: 1.4, spg: 1.1, bpg: 0.8, fg: 53.2, fg3: 31.6, ft: 68.1 },
            advanced: { per: 16.8, ts: 58.4, usg: 20.2, ortg: 114.8, drtg: 113.2, bpm: 1.8, vorp: 2.1, ws: 4.8, ows: 3.2, dws: 1.6 },
            shooting: { fga: 10.2, fgm: 5.4, fg3a: 2.8, fg3m: 0.9, fta: 1.8, ftm: 1.2, efg: 58.6, tsp: 58.4, ftr: 0.18 },
            defense: { drb: 4.1, orb: 0.9, stl: 1.1, blk: 0.8, pf: 2.2, tov: 1.6, drtg: 113.2, dbpm: 0.4 }
          }
        },
        {
          name: "Nicolas Batum", position: "SF", jersey: "33", category: "forwards",
          stats: {
            basic: { gp: 57, mpg: 22.1, ppg: 5.5, rpg: 4.2, apg: 2.5, spg: 0.9, bpg: 0.4, fg: 44.8, fg3: 39.7, ft: 81.8 },
            advanced: { per: 12.8, ts: 58.2, usg: 12.4, ortg: 112.8, drtg: 111.2, bpm: 2.1, vorp: 1.4, ws: 2.8, ows: 1.2, dws: 1.6 },
            shooting: { fga: 4.8, fgm: 2.2, fg3a: 2.9, fg3m: 1.2, fta: 0.6, ftm: 0.5, efg: 56.2, tsp: 58.2, ftr: 0.12 },
            defense: { drb: 3.4, orb: 0.8, stl: 0.9, blk: 0.4, pf: 1.8, tov: 1.2, drtg: 111.2, dbpm: 1.2 }
          }
        },
        {
          name: "De'Anthony Melton", position: "SG", jersey: "8", category: "guards",
          stats: {
            basic: { gp: 38, mpg: 26.9, ppg: 11.1, rpg: 3.7, apg: 3.0, spg: 1.6, bpg: 0.8, fg: 38.0, fg3: 32.7, ft: 79.5 },
            advanced: { per: 14.2, ts: 51.8, usg: 18.2, ortg: 108.4, drtg: 112.8, bpm: 0.8, vorp: 0.9, ws: 1.8, ows: 0.8, dws: 1.0 },
            shooting: { fga: 9.8, fgm: 3.7, fg3a: 5.5, fg3m: 1.8, fta: 1.8, ftm: 1.4, efg: 47.2, tsp: 51.8, ftr: 0.18 },
            defense: { drb: 2.9, orb: 0.8, stl: 1.6, blk: 0.8, pf: 2.4, tov: 1.8, drtg: 112.8, dbpm: 0.2 }
          }
        },
        {
          name: "Buddy Hield", position: "SG", jersey: "17", category: "guards",
          stats: {
            basic: { gp: 84, mpg: 25.8, ppg: 12.1, rpg: 3.2, apg: 2.8, spg: 0.9, bpg: 0.3, fg: 43.6, fg3: 38.6, ft: 87.3 },
            advanced: { per: 13.8, ts: 58.2, usg: 19.2, ortg: 114.2, drtg: 115.8, bpm: 0.4, vorp: 1.8, ws: 3.2, ows: 2.1, dws: 1.1 },
            shooting: { fga: 9.6, fgm: 4.2, fg3a: 6.8, fg3m: 2.6, fta: 1.1, ftm: 1.0, efg: 56.8, tsp: 58.2, ftr: 0.11 },
            defense: { drb: 2.6, orb: 0.6, stl: 0.9, blk: 0.3, pf: 1.8, tov: 1.4, drtg: 115.8, dbpm: -0.8 }
          }
        },
        {
          name: "Cameron Payne", position: "PG", jersey: "1", category: "guards",
          stats: {
            basic: { gp: 31, mpg: 16.4, ppg: 9.3, rpg: 1.8, apg: 3.1, spg: 0.6, bpg: 0.1, fg: 44.9, fg3: 36.0, ft: 81.8 },
            advanced: { per: 15.2, ts: 58.4, usg: 21.8, ortg: 112.4, drtg: 116.2, bpm: -0.2, vorp: 0.4, ws: 1.1, ows: 0.8, dws: 0.3 },
            shooting: { fga: 7.2, fgm: 3.2, fg3a: 3.6, fg3m: 1.3, fta: 1.1, ftm: 0.9, efg: 53.8, tsp: 58.4, ftr: 0.15 },
            defense: { drb: 1.4, orb: 0.4, stl: 0.6, blk: 0.1, pf: 1.2, tov: 1.8, drtg: 116.2, dbpm: -1.4 }
          }
        },
        {
          name: "Robert Covington", position: "PF", jersey: "23", category: "forwards",
          stats: {
            basic: { gp: 34, mpg: 17.2, ppg: 4.2, rpg: 3.8, apg: 1.1, spg: 1.0, bpg: 0.8, fg: 32.4, fg3: 31.4, ft: 75.0 },
            advanced: { per: 9.8, ts: 48.2, usg: 12.8, ortg: 104.2, drtg: 112.8, bpm: -1.2, vorp: 0.2, ws: 0.8, ows: 0.2, dws: 0.6 },
            shooting: { fga: 5.8, fgm: 1.9, fg3a: 3.5, fg3m: 1.1, fta: 0.4, ftm: 0.3, efg: 41.2, tsp: 48.2, ftr: 0.07 },
            defense: { drb: 3.2, orb: 0.6, stl: 1.0, blk: 0.8, pf: 2.1, tov: 0.8, drtg: 112.8, dbpm: 0.2 }
          }
        },
        {
          name: "Paul Reed", position: "C", jersey: "44", category: "centers",
          stats: {
            basic: { gp: 82, mpg: 23.4, ppg: 7.3, rpg: 6.0, apg: 1.3, spg: 0.8, bpg: 0.9, fg: 48.2, fg3: 25.0, ft: 68.8 },
            advanced: { per: 16.8, ts: 52.4, usg: 16.2, ortg: 108.4, drtg: 114.2, bpm: -0.8, vorp: 0.8, ws: 2.1, ows: 0.8, dws: 1.3 },
            shooting: { fga: 6.2, fgm: 3.0, fg3a: 0.8, fg3m: 0.2, fta: 2.1, ftm: 1.4, efg: 49.8, tsp: 52.4, ftr: 0.34 },
            defense: { drb: 4.8, orb: 1.2, stl: 0.8, blk: 0.9, pf: 2.8, tov: 1.6, drtg: 114.2, dbpm: -0.2 }
          }
        },
        {
          name: "Mo Bamba", position: "C", jersey: "5", category: "centers",
          stats: {
            basic: { gp: 57, mpg: 12.8, ppg: 4.6, rpg: 4.2, apg: 0.6, spg: 0.4, bpg: 0.9, fg: 45.2, fg3: 29.4, ft: 71.4 },
            advanced: { per: 14.2, ts: 52.8, usg: 15.2, ortg: 106.8, drtg: 115.2, bpm: -1.8, vorp: 0.2, ws: 1.2, ows: 0.4, dws: 0.8 },
            shooting: { fga: 4.1, fgm: 1.9, fg3a: 1.7, fg3m: 0.5, fta: 0.7, ftm: 0.5, efg: 50.8, tsp: 52.8, ftr: 0.17 },
            defense: { drb: 3.4, orb: 0.8, stl: 0.4, blk: 0.9, pf: 1.8, tov: 0.8, drtg: 115.2, dbpm: -0.8 }
          }
        },
        {
          name: "Ricky Council IV", position: "SG", jersey: "12", category: "guards",
          stats: {
            basic: { gp: 32, mpg: 8.4, ppg: 3.8, rpg: 1.4, apg: 0.6, spg: 0.4, bpg: 0.2, fg: 41.2, fg3: 28.6, ft: 77.8 },
            advanced: { per: 10.2, ts: 50.8, usg: 16.2, ortg: 104.8, drtg: 117.2, bpm: -2.8, vorp: -0.1, ws: 0.4, ows: 0.2, dws: 0.2 },
            shooting: { fga: 4.2, fgm: 1.7, fg3a: 1.4, fg3m: 0.4, fta: 0.9, ftm: 0.7, efg: 46.8, tsp: 50.8, ftr: 0.21 },
            defense: { drb: 1.1, orb: 0.3, stl: 0.4, blk: 0.2, pf: 1.2, tov: 0.8, drtg: 117.2, dbpm: -2.4 }
          }
        },
        {
          name: "KJ Martin", position: "PF", jersey: "6", category: "forwards",
          stats: {
            basic: { gp: 47, mpg: 14.2, ppg: 5.4, rpg: 3.2, apg: 0.8, spg: 0.6, bpg: 0.4, fg: 52.1, fg3: 33.3, ft: 72.7 },
            advanced: { per: 12.8, ts: 58.2, usg: 14.8, ortg: 110.2, drtg: 114.8, bpm: -0.8, vorp: 0.4, ws: 1.2, ows: 0.6, dws: 0.6 },
            shooting: { fga: 4.2, fgm: 2.2, fg3a: 1.2, fg3m: 0.4, fta: 1.1, ftm: 0.8, efg: 56.8, tsp: 58.2, ftr: 0.26 },
            defense: { drb: 2.4, orb: 0.8, stl: 0.6, blk: 0.4, pf: 1.8, tov: 1.0, drtg: 114.8, dbpm: -0.2 }
          }
        },
        {
          name: "Furkan Korkmaz", position: "SG", jersey: "30", category: "guards",
          stats: {
            basic: { gp: 48, mpg: 11.2, ppg: 4.8, rpg: 1.4, apg: 1.2, spg: 0.4, bpg: 0.1, fg: 38.2, fg3: 33.8, ft: 85.7 },
            advanced: { per: 10.8, ts: 52.4, usg: 16.8, ortg: 106.2, drtg: 116.8, bpm: -2.4, vorp: -0.2, ws: 0.6, ows: 0.3, dws: 0.3 },
            shooting: { fga: 5.2, fgm: 2.0, fg3a: 3.4, fg3m: 1.2, fta: 0.7, ftm: 0.6, efg: 49.8, tsp: 52.4, ftr: 0.13 },
            defense: { drb: 1.2, orb: 0.2, stl: 0.4, blk: 0.1, pf: 1.1, tov: 1.0, drtg: 116.8, dbpm: -2.2 }
          }
        },
        {
          name: "Jeff Dowtin Jr.", position: "PG", jersey: "21", category: "guards",
          stats: {
            basic: { gp: 15, mpg: 6.2, ppg: 2.4, rpg: 0.8, apg: 1.2, spg: 0.2, bpg: 0.0, fg: 36.4, fg3: 25.0, ft: 100.0 },
            advanced: { per: 9.8, ts: 48.2, usg: 18.2, ortg: 102.4, drtg: 118.2, bpm: -3.8, vorp: -0.1, ws: 0.1, ows: 0.0, dws: 0.1 },
            shooting: { fga: 2.8, fgm: 1.0, fg3a: 1.2, fg3m: 0.3, fta: 0.2, ftm: 0.2, efg: 41.2, tsp: 48.2, ftr: 0.07 },
            defense: { drb: 0.6, orb: 0.2, stl: 0.2, blk: 0.0, pf: 0.8, tov: 0.6, drtg: 118.2, dbpm: -3.4 }
          }
        }
      ],
      '2022-23': [
        {
          name: "Joel Embiid", position: "C", jersey: "21", category: "centers",
          stats: {
            basic: { gp: 66, mpg: 34.6, ppg: 33.1, rpg: 10.2, apg: 4.2, spg: 1.0, bpg: 1.7, fg: 54.8, fg3: 33.0, ft: 85.7 },
            advanced: { per: 31.2, ts: 65.5, usg: 33.8, ortg: 118.2, drtg: 108.2, bpm: 9.8, vorp: 8.2, ws: 12.1, ows: 8.9, dws: 3.2 },
            shooting: { fga: 20.1, fgm: 11.0, fg3a: 3.6, fg3m: 1.2, fta: 11.1, ftm: 9.5, efg: 59.2, tsp: 65.5, ftr: 0.55 },
            defense: { drb: 7.8, orb: 2.4, stl: 1.0, blk: 1.7, pf: 3.4, tov: 3.4, drtg: 108.2, dbpm: 3.1 }
          }
        },
        {
          name: "James Harden", position: "PG", jersey: "1", category: "guards",
          stats: {
            basic: { gp: 58, mpg: 36.8, ppg: 21.0, rpg: 6.1, apg: 10.7, spg: 1.2, bpg: 0.6, fg: 44.1, fg3: 38.5, ft: 86.7 },
            advanced: { per: 24.8, ts: 60.1, usg: 29.2, ortg: 115.8, drtg: 113.2, bpm: 6.8, vorp: 5.2, ws: 8.1, ows: 6.2, dws: 1.9 },
            shooting: { fga: 14.2, fgm: 6.3, fg3a: 7.0, fg3m: 2.7, fta: 7.0, ftm: 6.1, efg: 53.6, tsp: 60.1, ftr: 0.49 },
            defense: { drb: 5.1, orb: 1.0, stl: 1.2, blk: 0.6, pf: 2.4, tov: 3.4, drtg: 113.2, dbpm: 1.2 }
          }
        },
        {
          name: "Tyrese Maxey", position: "PG", jersey: "0", category: "guards",
          stats: {
            basic: { gp: 60, mpg: 34.7, ppg: 20.3, rpg: 2.9, apg: 3.5, spg: 0.9, bpg: 0.4, fg: 48.1, fg3: 43.4, ft: 84.4 },
            advanced: { per: 18.2, ts: 59.7, usg: 24.8, ortg: 115.2, drtg: 112.8, bpm: 2.8, vorp: 2.8, ws: 5.2, ows: 3.8, dws: 1.4 },
            shooting: { fga: 13.0, fgm: 6.3, fg3a: 5.4, fg3m: 2.3, fta: 3.2, ftm: 2.7, efg: 56.9, tsp: 59.7, ftr: 0.25 },
            defense: { drb: 2.4, orb: 0.5, stl: 0.9, blk: 0.4, pf: 1.8, tov: 2.0, drtg: 112.8, dbpm: -0.8 }
          }
        },
        {
          name: "Tobias Harris", position: "PF", jersey: "12", category: "forwards",
          stats: {
            basic: { gp: 74, mpg: 32.9, ppg: 14.7, rpg: 5.7, apg: 2.5, spg: 0.6, bpg: 0.6, fg: 47.4, fg3: 32.6, ft: 84.4 },
            advanced: { per: 15.2, ts: 56.8, usg: 19.8, ortg: 112.8, drtg: 113.2, bpm: 0.8, vorp: 1.8, ws: 4.2, ows: 2.8, dws: 1.4 },
            shooting: { fga: 11.2, fgm: 5.3, fg3a: 2.8, fg3m: 0.9, fta: 2.3, ftm: 1.9, efg: 51.2, tsp: 56.8, ftr: 0.21 },
            defense: { drb: 4.8, orb: 0.9, stl: 0.6, blk: 0.6, pf: 2.2, tov: 1.4, drtg: 113.2, dbpm: 0.2 }
          }
        }
      ],
      '2021-22': [
        {
          name: "Joel Embiid", position: "C", jersey: "21", category: "centers",
          stats: {
            basic: { gp: 68, mpg: 33.8, ppg: 30.6, rpg: 11.7, apg: 4.2, spg: 1.1, bpg: 1.5, fg: 49.9, fg3: 37.1, ft: 81.4 },
            advanced: { per: 31.2, ts: 61.8, usg: 33.8, ortg: 116.2, drtg: 106.2, bpm: 9.2, vorp: 7.8, ws: 13.8, ows: 9.2, dws: 4.6 },
            shooting: { fga: 19.2, fgm: 9.6, fg3a: 3.1, fg3m: 1.2, fta: 11.8, ftm: 9.6, efg: 53.7, tsp: 61.8, ftr: 0.61 },
            defense: { drb: 8.5, orb: 3.2, stl: 1.1, blk: 1.5, pf: 3.1, tov: 3.2, drtg: 106.2, dbpm: 4.2 }
          }
        },
        {
          name: "James Harden", position: "PG", jersey: "1", category: "guards",
          stats: {
            basic: { gp: 21, mpg: 37.0, ppg: 21.0, rpg: 7.1, apg: 10.5, spg: 1.2, bpg: 0.6, fg: 40.2, fg3: 32.6, ft: 87.9 },
            advanced: { per: 21.8, ts: 57.2, usg: 30.2, ortg: 112.8, drtg: 114.2, bpm: 4.8, vorp: 2.1, ws: 2.8, ows: 2.1, dws: 0.7 },
            shooting: { fga: 15.2, fgm: 6.1, fg3a: 7.8, fg3m: 2.5, fta: 8.8, ftm: 7.7, efg: 48.8, tsp: 57.2, ftr: 0.58 },
            defense: { drb: 5.8, orb: 1.3, stl: 1.2, blk: 0.6, pf: 2.8, tov: 4.6, drtg: 114.2, dbpm: -0.2 }
          }
        },
        {
          name: "Tyrese Maxey", position: "PG", jersey: "0", category: "guards",
          stats: {
            basic: { gp: 75, mpg: 35.3, ppg: 17.5, rpg: 3.2, apg: 4.3, spg: 0.7, bpg: 0.4, fg: 48.5, fg3: 42.7, ft: 86.6 },
            advanced: { per: 17.2, ts: 58.9, usg: 22.8, ortg: 114.2, drtg: 112.8, bpm: 2.1, vorp: 2.8, ws: 5.8, ows: 4.2, dws: 1.6 },
            shooting: { fga: 11.8, fgm: 5.7, fg3a: 4.4, fg3m: 1.9, fta: 2.3, ftm: 2.0, efg: 56.4, tsp: 58.9, ftr: 0.19 },
            defense: { drb: 2.6, orb: 0.6, stl: 0.7, blk: 0.4, pf: 1.6, tov: 1.8, drtg: 112.8, dbpm: -0.4 }
          }
        },
        {
          name: "Tobias Harris", position: "PF", jersey: "12", category: "forwards",
          stats: {
            basic: { gp: 73, mpg: 34.3, ppg: 17.2, rpg: 6.8, apg: 3.5, spg: 0.7, bpg: 0.8, fg: 47.4, fg3: 36.8, ft: 88.9 },
            advanced: { per: 17.8, ts: 58.2, usg: 22.1, ortg: 115.2, drtg: 111.8, bpm: 2.8, vorp: 3.2, ws: 6.8, ows: 4.2, dws: 2.6 },
            shooting: { fga: 12.8, fgm: 6.1, fg3a: 3.4, fg3m: 1.3, fta: 2.7, ftm: 2.4, efg: 52.8, tsp: 58.2, ftr: 0.21 },
            defense: { drb: 5.4, orb: 1.4, stl: 0.7, blk: 0.8, pf: 2.1, tov: 1.8, drtg: 111.8, dbpm: 1.2 }
          }
        }
      ],
      '2020-21': [
        {
          name: "Joel Embiid", position: "C", jersey: "21", category: "centers",
          stats: {
            basic: { gp: 51, mpg: 31.1, ppg: 28.5, rpg: 10.6, apg: 2.8, spg: 0.9, bpg: 1.4, fg: 51.3, fg3: 37.7, ft: 85.9 },
            advanced: { per: 31.2, ts: 63.0, usg: 33.8, ortg: 118.2, drtg: 105.8, bpm: 8.8, vorp: 6.2, ws: 8.8, ows: 6.2, dws: 2.6 },
            shooting: { fga: 16.2, fgm: 8.3, fg3a: 3.1, fg3m: 1.2, fta: 8.4, ftm: 7.2, efg: 55.3, tsp: 63.0, ftr: 0.52 },
            defense: { drb: 7.8, orb: 2.8, stl: 0.9, blk: 1.4, pf: 2.4, tov: 3.1, drtg: 105.8, dbpm: 3.8 }
          }
        },
        {
          name: "Ben Simmons", position: "PG", jersey: "25", category: "guards",
          stats: {
            basic: { gp: 58, mpg: 33.7, ppg: 14.3, rpg: 7.2, apg: 6.9, spg: 1.6, bpg: 0.6, fg: 55.7, fg3: 30.0, ft: 61.3 },
            advanced: { per: 18.2, ts: 56.8, usg: 17.8, ortg: 112.8, drtg: 108.2, bpm: 4.2, vorp: 3.8, ws: 6.2, ows: 3.2, dws: 3.0 },
            shooting: { fga: 9.9, fgm: 5.5, fg3a: 0.3, fg3m: 0.1, fta: 4.1, ftm: 2.5, efg: 56.2, tsp: 56.8, ftr: 0.41 },
            defense: { drb: 5.9, orb: 1.3, stl: 1.6, blk: 0.6, pf: 2.8, tov: 3.4, drtg: 108.2, dbpm: 2.8 }
          }
        },
        {
          name: "Tobias Harris", position: "PF", jersey: "12", category: "forwards",
          stats: {
            basic: { gp: 62, mpg: 34.2, ppg: 19.5, rpg: 6.8, apg: 3.5, spg: 0.8, bpg: 0.7, fg: 51.2, fg3: 39.4, ft: 89.2 },
            advanced: { per: 19.8, ts: 61.2, usg: 24.8, ortg: 118.2, drtg: 110.8, bpm: 3.8, vorp: 3.8, ws: 7.2, ows: 5.2, dws: 2.0 },
            shooting: { fga: 13.2, fgm: 6.8, fg3a: 4.2, fg3m: 1.7, fta: 2.8, ftm: 2.5, efg: 57.8, tsp: 61.2, ftr: 0.21 },
            defense: { drb: 5.4, orb: 1.4, stl: 0.8, blk: 0.7, pf: 2.2, tov: 1.8, drtg: 110.8, dbpm: 1.2 }
          }
        },
        {
          name: "Seth Curry", position: "SG", jersey: "31", category: "guards",
          stats: {
            basic: { gp: 57, mpg: 28.2, ppg: 12.5, rpg: 2.4, apg: 3.9, spg: 0.9, bpg: 0.1, fg: 48.7, fg3: 45.0, ft: 95.2 },
            advanced: { per: 16.8, ts: 65.2, usg: 17.8, ortg: 118.2, drtg: 113.8, bpm: 2.8, vorp: 2.1, ws: 4.2, ows: 3.2, dws: 1.0 },
            shooting: { fga: 8.2, fgm: 4.0, fg3a: 4.6, fg3m: 2.1, fta: 1.0, ftm: 1.0, efg: 61.2, tsp: 65.2, ftr: 0.12 },
            defense: { drb: 2.0, orb: 0.4, stl: 0.9, blk: 0.1, pf: 1.4, tov: 1.2, drtg: 113.8, dbpm: -0.8 }
          }
        }
      ]
    };

    // Current filters
    let currentSeason = '2024-25';
    let currentGameType = 'regular';
    let currentStatCategory = 'basic';
    let currentFilter = 'all';

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      renderPlayerStats();
      setupEventListeners();
    });

    // Setup event listeners
    function setupEventListeners() {
      // Season selector
      document.getElementById('seasonSelect').addEventListener('change', function(e) {
        currentSeason = e.target.value;
        renderPlayerStats();
      });

      // Game type selector
      document.getElementById('gameTypeSelect').addEventListener('change', function(e) {
        currentGameType = e.target.value;
        renderPlayerStats();
      });

      // Stat category selector
      document.getElementById('statCategorySelect').addEventListener('change', function(e) {
        currentStatCategory = e.target.value;
        renderPlayerStats();
      });

      // Filter buttons
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          currentFilter = this.dataset.filter;
          renderPlayerStats();
        });
      });
    }

    // Get current season data
    function getCurrentSeasonData() {
      return seasonStatsData[currentSeason] || [];
    }

    // Filter players based on current criteria
    function filterPlayers() {
      const players = getCurrentSeasonData();
      return players.filter(player => {
        switch(currentFilter) {
          case 'guards': return player.category === 'guards';
          case 'forwards': return player.category === 'forwards';
          case 'centers': return player.category === 'centers';
          default: return true;
        }
      });
    }

    // Get stat display based on category
    function getStatDisplay(player) {
      const stats = player.stats[currentStatCategory];
      
      switch(currentStatCategory) {
        case 'basic':
          return [
            { label: 'PPG', value: stats.ppg },
            { label: 'RPG', value: stats.rpg },
            { label: 'APG', value: stats.apg },
            { label: 'FG%', value: stats.fg + '%' },
            { label: 'FT%', value: stats.ft + '%' }
          ];
        case 'advanced':
          return [
            { label: 'PER', value: stats.per },
            { label: 'TS%', value: stats.ts + '%' },
            { label: 'USG%', value: stats.usg + '%' },
            { label: 'BPM', value: stats.bpm },
            { label: 'VORP', value: stats.vorp }
          ];
        case 'shooting':
          return [
            { label: '3P%', value: stats.fg3 + '%' },
            { label: 'eFG%', value: stats.efg + '%' },
            { label: 'FTr', value: stats.ftr },
            { label: 'TS%', value: stats.tsp + '%' }
          ];
        case 'defense':
          return [
            { label: 'STL', value: stats.stl },
            { label: 'BLK', value: stats.blk },
            { label: 'DRB', value: stats.drb },
            { label: 'DRTG', value: stats.drtg }
          ];
        default:
          return [];
      }
    }

    // Get detailed stats for expanded view
    function getDetailedStats(player) {
      const stats = player.stats;
      return {
        basic: [
          { label: 'GP', value: stats.basic.gp },
          { label: 'MPG', value: stats.basic.mpg },
          { label: 'PPG', value: stats.basic.ppg },
          { label: 'RPG', value: stats.basic.rpg },
          { label: 'APG', value: stats.basic.apg },
          { label: 'SPG', value: stats.basic.spg },
          { label: 'BPG', value: stats.basic.bpg },
          { label: 'FG%', value: stats.basic.fg + '%' },
          { label: '3P%', value: stats.basic.fg3 + '%' },
          { label: 'FT%', value: stats.basic.ft + '%' }
        ],
        advanced: [
          { label: 'PER', value: stats.advanced.per },
          { label: 'TS%', value: stats.advanced.ts + '%' },
          { label: 'USG%', value: stats.advanced.usg + '%' },
          { label: 'ORTG', value: stats.advanced.ortg },
          { label: 'DRTG', value: stats.advanced.drtg },
          { label: 'BPM', value: stats.advanced.bpm },
          { label: 'VORP', value: stats.advanced.vorp },
          { label: 'WS', value: stats.advanced.ws },
          { label: 'OWS', value: stats.advanced.ows },
          { label: 'DWS', value: stats.advanced.dws }
        ],
        shooting: [
          { label: 'FGA', value: stats.shooting.fga },
          { label: 'FGM', value: stats.shooting.fgm },
          { label: '3PA', value: stats.shooting.fg3a },
          { label: '3PM', value: stats.shooting.fg3m },
          { label: 'FTA', value: stats.shooting.fta },
          { label: 'FTM', value: stats.shooting.ftm },
          { label: 'eFG%', value: stats.shooting.efg + '%' },
          { label: 'TS%', value: stats.shooting.tsp + '%' },
          { label: 'FTr', value: stats.shooting.ftr }
        ],
        defense: [
          { label: 'DRB', value: stats.defense.drb },
          { label: 'ORB', value: stats.defense.orb },
          { label: 'STL', value: stats.defense.stl },
          { label: 'BLK', value: stats.defense.blk },
          { label: 'PF', value: stats.defense.pf },
          { label: 'TOV', value: stats.defense.tov },
          { label: 'DRTG', value: stats.defense.drtg },
          { label: 'DBPM', value: stats.defense.dbpm }
        ]
      };
    }

    // Open player stats modal
    window.openPlayerModal = function(playerData) {
      const modal = document.getElementById('statsModal');
      const modalPlayerAvatar = document.getElementById('modalPlayerAvatar');
      const modalPlayerName = document.getElementById('modalPlayerName');
      const modalPlayerMeta = document.getElementById('modalPlayerMeta');
      const modalBody = document.getElementById('modalBody');
      
      // Set player info
      const initials = playerData.name.split(' ').map(n => n[0]).join('');
      modalPlayerAvatar.textContent = initials;
      modalPlayerName.textContent = playerData.name;
      modalPlayerMeta.textContent = `${playerData.position} • #${playerData.jersey} • ${currentSeason} Season`;
      
      // Get detailed stats
      const detailedStats = getDetailedStats(playerData);
      
      // Create modal content
      modalBody.innerHTML = `
        <div class="stats-section">
          <h3>Basic Statistics</h3>
          <div class="modal-stats-grid">
            ${detailedStats.basic.map(stat => `
              <div class="modal-stat-item">
                <div class="modal-stat-value">${stat.value}</div>
                <div class="modal-stat-label">${stat.label}</div>
              </div>
            `).join('')}
          </div>
        </div>
        
        <div class="stats-section">
          <h3>Advanced Statistics</h3>
          <div class="modal-stats-grid">
            ${detailedStats.advanced.map(stat => `
              <div class="modal-stat-item">
                <div class="modal-stat-value">${stat.value}</div>
                <div class="modal-stat-label">${stat.label}</div>
              </div>
            `).join('')}
          </div>
        </div>
        
        <div class="stats-section">
          <h3>Shooting Statistics</h3>
          <div class="modal-stats-grid">
            ${detailedStats.shooting.map(stat => `
              <div class="modal-stat-item">
                <div class="modal-stat-value">${stat.value}</div>
                <div class="modal-stat-label">${stat.label}</div>
              </div>
            `).join('')}
          </div>
        </div>
        
        <div class="stats-section">
          <h3>Defensive Statistics</h3>
          <div class="modal-stats-grid">
            ${detailedStats.defense.map(stat => `
              <div class="modal-stat-item">
                <div class="modal-stat-value">${stat.value}</div>
                <div class="modal-stat-label">${stat.label}</div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
      
      // Show modal
      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
    }

    // Close player stats modal
    window.closeStatsModal = function() {
      const modal = document.getElementById('statsModal');
      modal.classList.remove('show');
      document.body.style.overflow = 'auto';
    }

    // Close modal when clicking outside
    document.addEventListener('click', function(e) {
      const modal = document.getElementById('statsModal');
      if (e.target === modal) {
        closeStatsModal();
      }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeStatsModal();
      }
    });

    // Create player stat card
    function createPlayerStatCard(player) {
      const initials = player.name.split(' ').map(n => n[0]).join('');
      const statDisplay = getStatDisplay(player);
      
      return `
        <div class="player-stat-card">
          <button class="view-details-btn" onclick="openPlayerModal(${JSON.stringify(player).replace(/"/g, '&quot;')})">
            View Details
          </button>
          <div class="player-stat-header">
            <div class="player-stat-avatar">${initials}</div>
            <div class="player-stat-info">
              <div class="player-stat-name">${player.name}</div>
              <div class="player-stat-position">${player.position} • #${player.jersey}</div>
            </div>
          </div>
          <div class="player-stats-display">
            ${statDisplay.map(stat => `
              <div class="stat-item">
                <div class="stat-value">${stat.value}</div>
                <div class="stat-label">${stat.label}</div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    // Render player stats
    function renderPlayerStats() {
      const filteredPlayers = filterPlayers();
      const container = document.getElementById('playerStatsGrid');
      
      if (filteredPlayers.length === 0) {
        container.innerHTML = '<div class="no-players">No players found for the ' + currentSeason + ' season.</div>';
        return;
      }

      container.innerHTML = filteredPlayers.map(player => createPlayerStatCard(player)).join('');
    }
  </script>
  
  <script src="stats.js"></script>
</body>
</html>
