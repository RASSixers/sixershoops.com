<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sixers Draft Picks â€” Editorial, Interactive Overview</title>
  <meta name="description" content="Authoritative, data-first overview of Philadelphia 76ers future draft picks with interactive filters, search, sorting, and details." />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" href="/favicon.ico" />
  <link rel="stylesheet" href="navbar-styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- html2canvas for image generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T1V9Q0MNEM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-T1V9Q0MNEM');
  </script>

  <style>
    :root {
      --ink: #0f172a;
      --muted: #475569;
      --border: rgba(15, 23, 42, 0.12);
      --bg: #fafafa;
      --white: #ffffff;
      --brand: #003da6; /* Sixers deep blue */
      --accent: #e11d48; /* Sixers crimson accent */
      --chip: #eef2ff;
    }

    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; }
    body {
      font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--ink);
      background: linear-gradient(180deg, #f8fafc 0%, #eef2f7 100%);
      line-height: 1.55;
      padding-top: 72px; /* leave room for injected navbar */
    }

    .main-container { max-width: 1400px; margin: 0 auto; padding: 2rem; }

    /* Removed unused editorial masthead styles (replaced by shared page-header) */

    /* Controls */
    .controls {
      position: sticky; top: 70px; z-index: 10;
      display: flex; flex-wrap: wrap; gap: 10px 12px; align-items: center;
      margin: 18px 0 14px;
      background: rgba(255,255,255,.85); backdrop-filter: blur(8px);
      border: 1px solid var(--border); border-radius: 14px; padding: 10px 12px;
      box-shadow: 0 8px 20px rgba(2,6,23,0.04);
    }
    .chip {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 12px; border-radius: 999px; border: 1px solid var(--border);
      background: var(--white); color: var(--ink); font-weight: 700; font-size: 13px; cursor: pointer;
      transition: background .2s ease, color .2s ease, transform .15s ease, border-color .2s ease;
      user-select: none;
    }
    .chip:hover { transform: translateY(-1px); }
    .chip.active { background: var(--brand); color: #fff; border-color: var(--brand); }

    .select, .search {
      border: 1px solid var(--border); border-radius: 10px; padding: 8px 10px; font-weight: 700; color: var(--ink);
      background: var(--white);
    }
    .search { min-width: 220px; flex: 1 1 260px; }
    .spacer { flex: 1; }

    /* Fancy filters */
    .chip-group { display:flex; gap:8px 10px; flex-wrap:wrap; }
    .chip[data-filter="own"] { border-color: rgba(16,185,129,.35); }
    .chip[data-filter="incoming"] { border-color: rgba(59,130,246,.35); }
    .chip[data-filter="traded"] { border-color: rgba(239,68,68,.35); }
    .chip[data-filter="swap"] { border-color: rgba(245,158,11,.35); }
    .chip[data-filter="conditional"] { border-color: rgba(99,102,241,.35); }
    .chip[data-filter="none"] { border-color: rgba(148,163,184,.35); }
    .chip[data-filter="firsts"] { border-color: rgba(0, 61, 166, 0.35); }
    .chip[data-filter="seconds"] { border-color: rgba(225, 29, 72, 0.35); }
    .chip[data-filter]:hover { border-color: currentColor; }
    .chip.active[data-filter="own"] { background: linear-gradient(135deg,#10b981,#059669); color:#fff; border-color: transparent; }
    .chip.active[data-filter="incoming"] { background: linear-gradient(135deg,#3b82f6,#1d4ed8); color:#fff; border-color: transparent; }
    .chip.active[data-filter="traded"] { background: linear-gradient(135deg,#ef4444,#b91c1c); color:#fff; border-color: transparent; }
    .chip.active[data-filter="swap"] { background: linear-gradient(135deg,#f59e0b,#d97706); color:#fff; border-color: transparent; }
    .chip.active[data-filter="conditional"] { background: linear-gradient(135deg,#6366f1,#4338ca); color:#fff; border-color: transparent; }
    .chip.active[data-filter="none"] { background: linear-gradient(135deg,#94a3b8,#64748b); color:#fff; border-color: transparent; }
    .chip.active[data-filter="firsts"] { background: linear-gradient(135deg, #003da6, #3b82f6); color:#fff; border-color: transparent; }
    .chip.active[data-filter="seconds"] { background: linear-gradient(135deg, #e11d48, #fb7185); color:#fff; border-color: transparent; }

    .year-pills { display:flex; gap:.5rem; overflow:auto; padding:.4rem; background: rgba(248,250,252,.8); border:1px solid #e2e8f0; border-radius:12px; box-shadow:0 4px 16px rgba(30,41,59,.06); }
    .year-pill { appearance:none; border:1px solid #e2e8f0; background:#fff; color:#0f172a; font-weight:800; padding:.5rem .8rem; border-radius:999px; cursor:pointer; transition:.2s ease; white-space:nowrap; }
    .year-pill:hover { transform: translateY(-1px); border-color:#cbd5e1; }
    .year-pill.active { background: linear-gradient(135deg,#3b82f6,#06b6d4); color:#fff; border-color: transparent; box-shadow:0 6px 20px rgba(59,130,246,.3); }

    .search-wrap { position: relative; display: inline-block; min-width: 260px; }
    .search-wrap .search { padding-right: 2.2rem; }
    .clear-btn { position:absolute; right:.4rem; top:50%; transform: translateY(-50%); border:none; background: transparent; color:#64748b; font-size:1rem; cursor:pointer; padding:.2rem; border-radius:6px; }
    .clear-btn:hover { color:#334155; background:#f1f5f9; }

    .reset-btn { border:2px solid #e2e8f0; background:#fff; color:#475569; padding:.6rem 1rem; border-radius:10px; font-weight:800; cursor:pointer; transition:.15s ease; }
    .reset-btn:hover { background:#f8fafc; transform: translateY(-1px); }

    th.sortable { position: relative; padding-right: 1.2rem; }
    th.sortable.sorted-asc::after, th.sortable.sorted-desc::after {
      content: '';
      position: absolute; right:.5rem; top:50%; transform: translateY(-50%);
      border: 5px solid transparent;
    }
    th.sortable.sorted-asc::after { border-bottom-color:#3b82f6; margin-top:-3px; }
    th.sortable.sorted-desc::after { border-top-color:#3b82f6; margin-top:3px; }

    /* Table */
    .table-wrap { overflow: auto; background: var(--white); border-radius: 16px; border: 1px solid var(--border); box-shadow: 0 10px 28px rgba(2,6,23,0.06); }
    table { width: 100%; border-collapse: separate; border-spacing: 0; }
    thead th {
      position: sticky; top: 0; z-index: 1; background: #f8fafc; text-align: left; font-size: 12px; text-transform: uppercase; letter-spacing: .06em;
      color: var(--muted); font-weight: 900; padding: 12px 14px; border-bottom: 1px solid var(--border); cursor: pointer; white-space: nowrap;
    }
    thead th.sortable:hover { color: var(--brand); }
    tbody td { padding: 14px; border-bottom: 1px solid var(--border); vertical-align: top; font-weight: 700; }
    tbody tr:hover td { background: #fafcff; }
    tbody tr.is-detail td { background: #fcfcfd; font-weight: 600; color: var(--muted); }

    .badge { display: inline-block; padding: 4px 8px; border-radius: 999px; font-size: 11px; font-weight: 900; letter-spacing: .03em; border: 1px solid rgba(0,0,0,.08); }
    .b-own { background: rgba(16,185,129,.12); color: #065f46; border-color: rgba(16,185,129,.25); }
    .b-incoming { background: rgba(59,130,246,.12); color: #1e3a8a; border-color: rgba(59,130,246,.25); }
    .b-traded { background: rgba(239,68,68,.12); color: #7f1d1d; border-color: rgba(239,68,68,.25); }
    .b-swap { background: rgba(245,158,11,.12); color: #7c2d12; border-color: rgba(245,158,11,.25); }
    .b-conditional { background: rgba(99,102,241,.12); color: #3730a3; border-color: rgba(99,102,241,.25); }
    .b-none { background: rgba(148,163,184,.18); color: #374151; border-color: rgba(148,163,184,.35); }

    .b-prot { background: #fff8f1; color: #9a3412; border-color: #fed7aa; }
    .b-unprot { background: #f1f5f9; color: #334155; border-color: #cbd5e1; }

    .year-tag { font-weight: 900; color: var(--brand); }
    .round { font-weight: 900; }
    .from { color: var(--muted); font-weight: 700; }
    .notes-btn { appearance: none; border: 0; background: transparent; color: var(--brand); font-weight: 900; cursor: pointer; }
    .notes-btn:hover { text-decoration: underline; }

    .legend { display: flex; flex-wrap: wrap; gap: 8px 12px; margin-top: 14px; color: var(--muted); font-weight: 700; }
    .legend .dot { width: 10px; height: 10px; border-radius: 999px; display: inline-block; border: 1px solid rgba(0,0,0,.08); margin-right: 6px; transform: translateY(1px); }
    .dot-own { background: rgba(16,185,129,.35); }
    .dot-incoming { background: rgba(59,130,246,.35); }
    .dot-traded { background: rgba(239,68,68,.35); }
    .dot-swap { background: rgba(245,158,11,.45); }
    .dot-conditional { background: rgba(99,102,241,.45); }
    .dot-none { background: rgba(148,163,184,.45); }

    /* Tradable Snapshot */
    .tradable-snapshot {
      display: flex;
      gap: 2.5rem;
      justify-content: center;
      margin-top: -2rem;
      margin-bottom: 3rem;
      flex-wrap: wrap;
      position: relative;
      z-index: 2;
    }
    .snapshot-card {
      background: var(--white);
      padding: 1.5rem;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      text-align: center;
      min-width: 220px;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      min-height: 120px;
    }
    .snapshot-card:hover { transform: translateY(-4px); }
    .snapshot-label {
      display: block;
      font-size: 0.75rem;
      font-weight: 800;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 0.5rem;
    }
    .snapshot-value {
      display: block;
      font-size: 3rem;
      font-weight: 900;
      color: var(--brand);
      line-height: 1;
      margin: auto 0;
      transform: translateY(-5px);
    }

    @media (max-width: 760px) {
      .controls { position: static; }
      thead th:nth-child(4), tbody td:nth-child(4) { display: none; } /* hide From on small */
      .search { flex: 1 1 100%; min-width: 0; }
    }

    /* Social Media Export Styling */
    #social-export-container {
      position: fixed;
      left: -9999px;
      top: -9999px;
      width: 1200px;
      background: #f8fafc;
      padding: 50px;
      color: #0f172a;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    .social-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      border-bottom: 3px solid #003da6;
      padding-bottom: 25px;
    }
    .social-title-box h1 {
      font-size: 48px;
      margin: 0;
      font-weight: 800;
      color: #003da6;
      letter-spacing: -1.5px;
    }
    .social-title-box p {
      font-size: 22px;
      color: #475569;
      margin: 8px 0 0;
      font-weight: 600;
    }
    .social-branding {
      text-align: right;
    }
    .social-branding .domain {
      font-size: 28px;
      font-weight: 900;
      color: #e11d48;
    }
    .social-summary-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 30px;
      margin-bottom: 40px;
    }
    .social-stat-card {
      background: white;
      border: 1px solid #e2e8f0;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.03);
    }
    .social-stat-label {
      font-size: 16px;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: #64748b;
      font-weight: 800;
      margin-bottom: 10px;
    }
    .social-stat-value {
      font-size: 64px;
      font-weight: 900;
      color: #003da6;
    }
    .social-table {
      width: 100%;
      background: white;
      border-radius: 12px;
      border-collapse: collapse;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.03);
      border: 1px solid #e2e8f0;
    }
    .social-table th {
      background: #f1f5f9;
      padding: 18px;
      text-align: left;
      font-size: 14px;
      text-transform: uppercase;
      color: #475569;
      font-weight: 900;
      border-bottom: 2px solid #e2e8f0;
    }
    .social-table td {
      padding: 18px;
      border-bottom: 1px solid #f1f5f9;
      font-size: 18px;
      font-weight: 700;
      color: #1e293b;
    }
    .social-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 800;
      text-transform: uppercase;
    }
    .social-badge.own { background: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
    .social-badge.swap { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
    .social-badge.traded { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
    .social-footer-note {
      margin-top: 25px;
      font-size: 16px;
      color: #64748b;
      font-style: italic;
      font-weight: 600;
    }

    .export-btn-container {
      text-align: center;
      margin: 2rem 0;
    }
    .export-btn {
      background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
      color: #fff;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 25px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
    }
    .export-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
      background: linear-gradient(135deg, #218838 0%, #17a673 100%);
    }
    .export-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }

    /* Modal Styles */
    .export-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }
    .export-modal.active {
      display: flex;
    }
    .export-modal-content {
      background: #fff;
      border-radius: 20px;
      padding: 30px;
      max-width: 900px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      text-align: center;
      position: relative;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    .export-modal-title {
      font-size: 24px;
      font-weight: 800;
      color: #0f172a;
      margin-bottom: 8px;
    }
    .export-modal-subtitle {
      font-size: 16px;
      color: #64748b;
      margin-bottom: 24px;
    }
    .export-preview-container {
      margin-bottom: 24px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border: 1px solid #e2e8f0;
    }
    .export-preview-container img {
      width: 100%;
      height: auto;
      display: block;
    }
    .export-modal-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .modal-btn {
      padding: 12px 24px;
      border-radius: 10px;
      font-weight: 700;
      font-size: 15px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
      border: none;
    }
    .modal-btn.download {
      background: #003da6;
      color: white;
    }
    .modal-btn.copy {
      background: #f1f5f9;
      color: #0f172a;
      border: 1px solid #e2e8f0;
    }
    .modal-btn.close {
      background: transparent;
      color: #64748b;
    }
    .modal-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .modal-btn.download:hover { background: #002d7a; }
    .modal-btn.copy:hover { background: #e2e8f0; }

    @keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}

.page-header {
padding: 5rem 2rem;
text-align: center;
animation: fadeIn 0.5s ease-in;
}

.page-header-content {
max-width: 56rem;
margin: 0 auto;
}

.page-title {
font-size: clamp(2rem, 7vw, 4rem);
font-weight: 700;
margin-bottom: 1.5rem;
line-height: 1.2;
}

.page-title .highlight {
color: #3b82f6;
}

.page-subtitle {
font-size: clamp(1rem, 2vw, 1.5rem);
color: #64748b;
max-width: 42rem;
margin: 0 auto;
}
  </style>
</head>
<body>
  <!-- navbar auto-injected by nav.js -->

  <section class="page-header">
    <div class="page-header-content">
      <h1 class="page-title">Future <span class="highlight">Draft Picks</span></h1>
      <p class="page-subtitle">Track the Sixers' future draft picks with an easy-to-use breakdown of all their draft capital</p>
    </div>
  </section>

  <div class="tradable-snapshot">
    <div class="snapshot-card">
      <span class="snapshot-label">Tradable Firsts</span>
      <span class="snapshot-value">3</span>
    </div>
    <div class="snapshot-card">
      <span class="snapshot-label">Tradable Seconds</span>
      <span class="snapshot-value" style="transform: translate(6px, -5px);">8*</span>
    </div>
  </div>

  <div class="main-container">
    <div class="export-btn-container">
      <button id="downloadSocialImage" class="export-btn">
        <i class="fas fa-camera"></i> Save Social Media Image
      </button>
    </div>

    <section class="controls" aria-label="Filters">
      <div class="chip-group" role="tablist" aria-label="Filter by type">
        <button class="chip active" data-filter="own" aria-pressed="true">Own</button>
        <button class="chip" data-filter="swap" aria-pressed="false">Swap</button>
        <button class="chip" data-filter="traded" aria-pressed="false">Traded</button>
        <button class="chip" data-filter="firsts" aria-pressed="false">1st Round Picks</button>
        <button class="chip" data-filter="seconds" aria-pressed="false">2nd Round Picks</button>
      </div>
    </section>

    <div class="table-wrap" role="region" aria-label="Draft picks table">
      <table id="picksTable">
        <thead>
          <tr>
            <th class="sortable" data-sort="year">Year</th>
            <th class="sortable" data-sort="round">Round</th>
            <th class="sortable" data-sort="type">Status</th>
            <th class="sortable" data-sort="from">From/Owner</th>
            <th class="sortable" data-sort="protection">Protection</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody id="picksBody"></tbody>
      </table>
    </div>
    <div style="margin-top: 1.5rem; font-size: 0.85rem; color: #64748b; font-weight: 600; text-align: center;">
      Note: Technically, we have 9 tradeable seconds, but one is a conditional second round pick that is unlikely to convey.
    </div>
  </div>

  <div id="social-export-container">
    <div class="social-header">
      <div class="social-title-box">
        <h1>Philadelphia 76ers</h1>
        <p>Future Draft Capital Overview</p>
      </div>
      <div class="social-branding">
        <div class="domain">SixersHoops.com</div>
      </div>
    </div>
    
    <div class="social-summary-grid">
      <div class="social-stat-card">
        <div class="social-stat-label">Tradable Firsts</div>
        <div class="social-stat-value">3</div>
      </div>
      <div class="social-stat-card">
        <div class="social-stat-label">Tradable Seconds</div>
        <div class="social-stat-value">8*</div>
      </div>
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
      <div class="social-column">
        <h3 style="color: #003da6; font-size: 20px; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 1px; border-bottom: 2px solid #e2e8f0; padding-bottom: 5px;">1st Round Picks</h3>
        <table class="social-table">
          <thead>
            <tr>
              <th>Year</th>
              <th>Status</th>
              <th>Owner</th>
            </tr>
          </thead>
          <tbody id="socialFirstsBody"></tbody>
        </table>
      </div>
      <div class="social-column">
        <h3 style="color: #003da6; font-size: 20px; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 1px; border-bottom: 2px solid #e2e8f0; padding-bottom: 5px;">2nd Round Picks</h3>
        <table class="social-table">
          <thead>
            <tr>
              <th>Year</th>
              <th>Status</th>
              <th>Owner</th>
            </tr>
          </thead>
          <tbody id="socialSecondsBody"></tbody>
        </table>
      </div>
    </div>

    <div class="social-footer-note">
      *2029 1st includes Swap Best rights vs. LAC (Top 3 Prot). 2028 PHI 2nd is untradable (due to Harden trade). 2028 DET 2nd is Top-55 protected and unlikely to convey.
    </div>
  </div>

  <!-- Export Modal -->
  <div id="exportModal" class="export-modal">
    <div class="export-modal-content">
      <div class="export-modal-title">ðŸ“¸ Share Future Draft Capital</div>
      <div class="export-modal-subtitle">Clean social media format with tradable assets and upcoming picks.</div>
      
      <div class="export-preview-container">
        <img id="exportPreview" src="" alt="Draft picks export preview">
      </div>
      
      <div class="export-modal-actions">
        <button id="modalDownloadBtn" class="modal-btn download">
          <i class="fas fa-download"></i> Download Image
        </button>
        <button id="modalCopyBtn" class="modal-btn copy">
          <i class="fas fa-copy"></i> Copy to Clipboard
        </button>
        <button id="modalCloseBtn" class="modal-btn close">
          âœ• Close
        </button>
      </div>
    </div>
  </div>

  <script src="nav.js"></script>
  <script>
    // Initialize after DOM is ready to avoid race conditions and improve robustness
    document.addEventListener('DOMContentLoaded', function () {
      // Data: curated from the prior timeline content
      const PICKS = [
        // 2026
        { year: 2026, round: '1st', type: 'traded', from: 'OKC Thunder', protection: 'Top-4 protected to PHI', notes: 'Top-4: PHI keeps; 5-30 to OKC. If not conveyed in 2026, same in 2027. If still not conveyed in 2027, converts to 2027 2nd for OKC.' },
        { year: 2026, round: '2nd', type: 'traded', from: "Philadelphia's own", protection: 'Traded away', notes: '' },
        // 2027
        { year: 2027, round: '1st', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' },
        { year: 2027, round: '2nd', type: 'incoming', from: 'More favorable of GSW/PHX', protection: 'Incoming asset', notes: '' },
        { year: 2027, round: '2nd', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' },
        // 2028
        { year: 2028, round: '1st', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' },
        { year: 2028, round: '1st', type: 'incoming', from: 'Via LA Clippers', protection: 'Unprotected', notes: '' },
        { year: 2028, round: '2nd', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: 'Ineligible to be traded due to James Harden trade to the Sixers' },
        { year: 2028, round: '2nd', type: 'incoming', from: 'Via Golden State', protection: 'Unprotected', notes: '' },
        { year: 2028, round: '2nd', type: 'conditional', from: 'Via Detroit', protection: 'Top-55 protected', notes: 'Conveys only if pick 56-60; otherwise expires.' },
        // 2029
        { year: 2029, round: '1st', type: 'own', from: "Swap Best w/ LAC (Top 3 Prot)", protection: 'Unprotected', notes: 'Sixers hold the right to swap their 2029 1st-round pick with the Clippers (Top 3 Protected)' },
        { year: 2029, round: '2nd', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' },
        // 2030
        { year: 2030, round: '1st', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' },
        { year: 2030, round: '2nd', type: 'incoming', from: 'More favorable of POR/PHX', protection: 'Incoming asset', notes: '' },
        { year: 2030, round: '2nd', type: 'incoming', from: 'Via Washington', protection: 'Unprotected', notes: '' },
        // 2031
        { year: 2031, round: '1st', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' },
        { year: 2031, round: '2nd', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' },
        // 2032
        { year: 2032, round: '1st', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' },
        { year: 2032, round: '2nd', type: 'own', from: "Philadelphia's own", protection: 'Unprotected', notes: '' }
      ];

      const typeToBadge = (t) => ({
        own: 'b-own', incoming: 'b-incoming', traded: 'b-traded', swap: 'b-swap', conditional: 'b-conditional', none: 'b-none'
      }[t] || 'b-none');

      const picksBody = document.getElementById('picksBody');
      const searchInput = document.getElementById('searchInput');
      const clearSearch = document.getElementById('clearSearch');
      const resetFilters = document.getElementById('resetFilters');
      const chips = Array.from(document.querySelectorAll('.chip'));
      const headers = Array.from(document.querySelectorAll('thead th.sortable'));

      if (!picksBody) return;

      let state = {
        filterType: 'own',
        q: '',
        sort: { key: 'year', dir: 'asc' }
      };

      function normalize(str) { return String(str || '').toLowerCase(); }

      function render() {
        // filter
        let rows = PICKS.filter(p => {
          // Updated meaning for 'Own': picks the Sixers currently control (native or via other teams)
          // We'll treat 'own' and 'incoming' as controllable, while 'traded'/'none' are not controlled.
          const controllable = (p.type === 'own' || p.type === 'incoming');

          const typeOk =
            state.filterType === 'all' ? true :
            state.filterType === 'own' ? controllable :
            state.filterType === 'incoming' ? p.type === 'incoming' :
            state.filterType === 'traded' ? p.type === 'traded' :
            state.filterType === 'swap' ? p.type === 'swap' :
            state.filterType === 'conditional' ? p.type === 'conditional' :
            state.filterType === 'none' ? p.type === 'none' :
            state.filterType === 'firsts' ? (p.round.includes('1st') && p.type !== 'traded') :
            state.filterType === 'seconds' ? (p.round.includes('2nd') && p.type !== 'traded') : true;

          const q = normalize(state.q);
          const text = normalize([p.year, p.round, p.type, p.from, p.protection, p.notes].join(' '));
          const qOk = !q || text.includes(q);
          return typeOk && qOk;
        });

        // sort
        const { key, dir } = state.sort;
        rows.sort((a, b) => {
          let va = a[key], vb = b[key];
          if (key === 'year') { va = Number(va); vb = Number(vb); }
          else { va = String(va).toLowerCase(); vb = String(vb).toLowerCase(); }
          if (va < vb) return dir === 'asc' ? -1 : 1;
          if (va > vb) return dir === 'asc' ? 1 : -1;
          // second key for stable-ish order
          if (a.year !== b.year) return a.year - b.year;
          return String(a.round).localeCompare(String(b.round));
        });

        // paint
        picksBody.innerHTML = '';
        rows.forEach(p => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td><span class="year-tag">${p.year}</span></td>
            <td class="round">${p.round}</td>
            <td><span class="badge ${typeToBadge(p.type)}">${p.type.toUpperCase()}</span></td>
            <td class="from">${p.from}</td>
            <td>${p.protection ? `<span class="badge ${/unprotected/i.test(p.protection) ? 'b-unprot' : 'b-prot'}">${p.protection}</span>` : ''}</td>
            <td>${p.notes ? `<button class="notes-btn" type="button">Notes</button>` : ''}</td>
          `;
          picksBody.appendChild(tr);
          if (p.notes) {
            const d = document.createElement('tr');
            d.className = 'is-detail';
            const td = document.createElement('td');
            td.colSpan = 6;
            td.innerHTML = p.notes;
            d.appendChild(td);
            d.style.display = 'none';
            picksBody.appendChild(d);
            const btn = tr.querySelector('.notes-btn');
            if (btn) {
              btn.addEventListener('click', () => {
                const open = d.style.display === 'table-row';
                d.style.display = open ? 'none' : 'table-row';
                btn.textContent = open ? 'Notes' : 'Hide Notes';
              });
            }
          }
        });
      }

      // chips
      chips.forEach(ch => {
        ch.addEventListener('click', () => {
          chips.forEach(x => { x.classList.remove('active'); x.setAttribute('aria-pressed','false'); });
          ch.classList.add('active');
          ch.setAttribute('aria-pressed','true');
          state.filterType = ch.dataset.filter || 'all';
          render();
        });
      });

      if (searchInput) {
        searchInput.addEventListener('input', () => {
          state.q = searchInput.value || '';
          render();
        });
      }

      if (clearSearch) {
        clearSearch.addEventListener('click', () => {
          if (searchInput) searchInput.value = '';
          state.q = '';
          render();
          if (searchInput) searchInput.focus();
        });
      }

      if (resetFilters) {
        resetFilters.addEventListener('click', () => {
          // type (default back to 'own')
          chips.forEach(x => { x.classList.remove('active'); x.setAttribute('aria-pressed','false'); });
          const ownChip = chips.find(x => x.dataset.filter === 'own');
          if (ownChip) { ownChip.classList.add('active'); ownChip.setAttribute('aria-pressed','true'); }
          state.filterType = 'own';

          // search
          if (searchInput) searchInput.value = '';
          state.q = '';

          // sort
          state.sort = { key: 'year', dir: 'asc' };

          updateSortIndicators();
          render();
        });
      }

      function updateSortIndicators() {
        headers.forEach(h => h.classList.remove('sorted-asc','sorted-desc'));
        const active = headers.find(h => h.dataset.sort === state.sort.key);
        if (active) active.classList.add(state.sort.dir === 'asc' ? 'sorted-asc' : 'sorted-desc');
      }

      headers.forEach(h => {
        h.classList.add('sortable');
        h.addEventListener('click', () => {
          const key = h.dataset.sort;
          if (!key) return;
          if (state.sort.key === key) {
            state.sort.dir = state.sort.dir === 'asc' ? 'desc' : 'asc';
          } else {
            state.sort.key = key; state.sort.dir = 'asc';
          }
          updateSortIndicators();
          render();
        });
      });

      // initial
      updateSortIndicators();
      render();

      // Social Image Generation
      const downloadBtn = document.getElementById('downloadSocialImage');
      const exportContainer = document.getElementById('social-export-container');
      const socialFirstsBody = document.getElementById('socialFirstsBody');
      const socialSecondsBody = document.getElementById('socialSecondsBody');
      const exportModal = document.getElementById('exportModal');
      const exportPreview = document.getElementById('exportPreview');
      const modalDownloadBtn = document.getElementById('modalDownloadBtn');
      const modalCopyBtn = document.getElementById('modalCopyBtn');
      const modalCloseBtn = document.getElementById('modalCloseBtn');

      let currentCanvas = null;

      if (downloadBtn && exportContainer && socialFirstsBody && socialSecondsBody) {
        downloadBtn.addEventListener('click', function() {
          downloadBtn.disabled = true;
          downloadBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';

          // Filter for owned/incoming picks only (no traded/none)
          const ownedPicks = PICKS.filter(p => p.type !== 'traded' && p.type !== 'none');
          
          const firsts = ownedPicks.filter(p => p.round === '1st');
          const seconds = ownedPicks.filter(p => p.round === '2nd');

          socialFirstsBody.innerHTML = firsts.map(p => `
            <tr>
              <td style="color: #003da6;">${p.year}</td>
              <td><span class="social-badge ${p.type}">${p.type.toUpperCase()}</span></td>
              <td style="color: #475569; font-size: 14px;">${p.from}</td>
            </tr>
          `).join('');

          socialSecondsBody.innerHTML = seconds.map(p => `
            <tr>
              <td style="color: #003da6;">${p.year}</td>
              <td><span class="social-badge ${p.type}">${p.type.toUpperCase()}</span></td>
              <td style="color: #475569; font-size: 14px;">${p.from}</td>
            </tr>
          `).join('');

          // Generate image
          html2canvas(exportContainer, {
            scale: 2,
            useCORS: true,
            backgroundColor: '#f8fafc'
          }).then(canvas => {
            currentCanvas = canvas;
            exportPreview.src = canvas.toDataURL('image/png');
            exportModal.classList.add('active');
            
            downloadBtn.disabled = false;
            downloadBtn.innerHTML = '<i class="fas fa-camera"></i> Save Social Media Image';
          }).catch(err => {
            console.error('Export failed:', err);
            downloadBtn.disabled = false;
            downloadBtn.innerHTML = '<i class="fas fa-camera"></i> Save Social Media Image';
          });
        });
      }

      if (modalDownloadBtn) {
        modalDownloadBtn.addEventListener('click', function() {
          if (!currentCanvas) return;
          const link = document.createElement('a');
          link.download = '76ers-future-draft-picks.png';
          link.href = currentCanvas.toDataURL('image/png');
          link.click();
        });
      }

      if (modalCopyBtn) {
        modalCopyBtn.addEventListener('click', function() {
          if (!currentCanvas) return;
          currentCanvas.toBlob(blob => {
            const item = new ClipboardItem({ 'image/png': blob });
            navigator.clipboard.write([item]).then(() => {
              const originalText = modalCopyBtn.innerHTML;
              modalCopyBtn.innerHTML = '<i class="fas fa-check"></i> Copied!';
              setTimeout(() => {
                modalCopyBtn.innerHTML = originalText;
              }, 2000);
            });
          });
        });
      }

      if (modalCloseBtn) {
        modalCloseBtn.addEventListener('click', () => {
          exportModal.classList.remove('active');
        });
      }

      // Close modal on outside click
      window.addEventListener('click', (e) => {
        if (e.target === exportModal) {
          exportModal.classList.remove('active');
        }
      });
    });
  </script>
</body>
</html>
