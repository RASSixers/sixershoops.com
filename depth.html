<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Sixers Depth Chart | SixersHoops</title>
  <link rel="icon" href="/favicon.ico"/>
  <link rel="apple-touch-icon" href="/favicon.ico"/>

  <link rel="stylesheet" href="styles.css"/>
  <link rel="stylesheet" href="navbar-styles.css"/>

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T1V9Q0MNEM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G1V9Q0MNEM');
  </script>

  <style>
    /* Reset */
    *, *::before, *::after{margin:0;padding:0;box-sizing:border-box;}

    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
      background:#f6f8fa;
      color:#23272F;
      padding-top:60px;
    }

    /* Content wrapper */
    .content-wrapper{
      max-width:1400px;
      margin:0 auto;
      padding:0 20px;
    }

    /* ---------------- Banner (Depth‑on) ---------------- */
    .depth-hero{
      position:relative;
      padding:4rem 0 2rem;
      text-align:center;
      color:#fff;
      background:radial-gradient(circle at 50% 30%, #0a174e 0%, #0057e7 100%);
      border-radius:12px;
      margin-top:1rem;
      overflow:hidden;
      perspective:1000px;
      box-shadow:0 6px 32px rgba(0,0,0,.1);
    }
    .depth-hero::before{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(135deg,#0a174e 20%,#0057e7 100%);
      opacity:.45;
      z-index:0;
      border-radius:12px;
    }
    .depth-hero-content{
      position:relative; z-index:1;
      display:flex; flex-direction:column; align-items:center;
    }
    .depth-logo{
      width:200px; height:200px; object-fit:cover;
      margin-bottom:1.5rem;
      background:#fff; border-radius:16px; border:2px solid #fff;
      box-shadow:0 4px 16px rgba(0,0,0,.08);
    }
    .depth-title{font-size:2.7rem;font-weight:bold;font-family:Georgia,serif;letter-spacing:2px;margin-bottom:.5rem;}
    .depth-subtitle{font-size:1.2rem;font-weight:400;opacity:.85;margin-bottom:1.5rem;}

    /* -------------- Main content -------------- */
    .depth-main-content{
      max-width:900px;
      margin:2rem auto 0;
      background:#fff;
      border-radius:16px;
      box-shadow:0 4px 20px rgba(10,23,78,.09);
      padding:2rem 2.5rem;
    }

    /* -------------- Controls -------------- */
    .depth-controls{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem;flex-wrap:wrap;}
    .control-btn{
      background:#f8f9fa;border:2px solid #e9ecef;color:#0a174e;
      padding:.5rem 1rem;border-radius:25px;cursor:pointer;transition:all .3s ease;
      font-weight:600;font-size:.9rem;
    }
    .control-btn:hover,.control-btn.active{
      background:#0a174e;color:#fff;border-color:#0a174e;
    }

    /* -------------- Basketball court and players -------------- */
    .basketball-court{
      /* Black background – replace the original green gradient */
      background:#000;
      border-radius:20px;padding:2rem;margin:2rem 0;
      position:relative;overflow:hidden;
      box-shadow:0 8px 32px rgba(10,23,78,.15);
    }
    .basketball-court::before{
      content:"";
      position:absolute;top:0;left:0;right:0;bottom:0;
      /* keep subtle white highlights on the dark background */
      background:radial-gradient(circle at 50% 10%,rgba(255,255,255,.15) 0%,transparent 20%),
                  radial-gradient(circle at 50% 90%,rgba(255,255,255,.15) 0%,transparent 20%);
      pointer-events:none;
    }
    .position-group{
      background:rgba(255,255,255,.95);border-radius:16px;
      padding:1.5rem;margin-bottom:1.5rem;
      box-shadow:0 4px 16px rgba(0,0,0,.1);transition:all .3s ease;position:relative;
    }
    .position-group:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,.15);}
    .position-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid #e9ecef;}
    .position-title{font-size:1.4rem;font-weight:700;color:#0a174e;font-family:Georgia,serif;display:flex;align-items:center;gap:.5rem;}
    .position-icon{width:30px;height:30px;background:#0a174e;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;}
    .depth-count{background:#e9ecef;color:#6c757d;padding:.25rem .75rem;border-radius:15px;font-size:.8rem;font-weight:600;}
    .players-container{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;}
    .player-card{
      background:linear-gradient(135deg,#0a174e 0%,#0057e7 100%);
      color:#fff;padding:.75rem 1rem;border-radius:12px;font-weight:600;font-size:1rem;
      box-shadow:0 2px 8px rgba(10,23,78,.2);transition:all .3s ease;cursor:pointer;overflow:hidden;position:relative;
    }
    .player-card::before{
      content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;
      background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);
      transition:left .5s;
    }
    .player-card:hover::before{left:100%;}
    .player-card:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 4px 16px rgba(10,23,78,.3);}
    .player-card.starter{
      background:linear-gradient(135deg,#28a745 0%,#20c997 100%);
      border:2px solid #fff;font-size:1.1rem;padding:1rem 1.25rem;
    }
    .player-card.twoway{
      background:linear-gradient(135deg,#dc3545 0%,#e74c3c 100%);position:relative;
    }
    .player-card.twoway::after{
      content:"2‑WAY";position:absolute;top:-8px;right:-8px;background:#fff;color:#dc3545;font-size:.65rem;padding:.3rem .5rem;border-radius:10px;
      font-weight:700;box-shadow:0 2px 6px rgba(0,0,0,.15);z-index:10;white-space:nowrap;
    }
    .depth-separator{color:#6c757d;font-size:1.2rem;font-weight:300;margin:0 .5rem;}

    /* -------------- Notes section -------------- */
    .notes-section{background:#f8f9fa;border-radius:12px;padding:1.5rem;margin-top:2rem;}
    .notes-title{font-size:1.4rem;color:#0a174e;font-weight:700;margin-bottom:1rem;font-family:Georgia,serif;}
    .notes-list{list-style:none;padding:0;}
    .notes-list li{padding:.5rem 0;border-bottom:1px solid #e9ecef;display:flex;align-items:center;gap:.75rem;}
    .notes-list li:last-child{border-bottom:none;}
    .note-icon{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:600;color:#fff;}
    .note-icon.roster{background:#28a745;}
    .note-icon.twoway{background:#dc3545;}
    .note-icon.info{background:#17a2b8;}

    /* -------------- Export button & modal -------------- */
    .export-container{text-align:center;margin-bottom:2rem;}
    .export-btn{
      background:linear-gradient(135deg,#28a745 0%,#20c997 100%);
      color:#fff;border:none;padding:.75rem 1.5rem;border-radius:25px;
      font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;
      box-shadow:0 4px 12px rgba(40,167,69,.3);
    }
    .export-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(40,167,69,.4);}
    .export-btn:disabled{opacity:.7;cursor:not-allowed;}

    .export-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:2000;justify-content:center;align-items:center;}
    .export-modal-content{background:#fff;border-radius:16px;padding:2rem;max-width:600px;width:90%;max-height:80vh;overflow-y:auto;text-align:center;position:relative;}
    .export-preview{max-width:100%;height:auto;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,.1);margin-bottom:1.5rem;}
    .export-actions{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;}
    .copy-btn,.download-btn,.close-btn{padding:.75rem 1.5rem;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;}
    .copy-btn{background:#007bff;color:#fff;}
    .download-btn{background:#28a745;color:#fff;}
    .close-btn{background:#6c757d;color:#fff;}
    .copy-btn:hover,.download-btn:hover,.close-btn:hover{transform:translateY(-2px);opacity:.9;}

    /* -------------- Back‑home button -------------- */
    .back-home{margin:2.5rem 0 0;text-align:center;}
    .back-home-btn{
      display:inline-block;background:#0a174e;color:#fff;padding:.7rem 2.2rem;border-radius:8px;font-size:1.1rem;font-weight:600;text-decoration:none;
      box-shadow:0 2px 8px rgba(10,23,78,.12);transition:background .2s;
    }
    .back-home-btn:hover{background:#0057e7;}

    /* -------------- Responsive tweaks -------------- */
    @media(max-width:1400px){ .content-wrapper{padding:0 20px;} }
    @media(max-width:950px){
      .depth-main-content{padding:1.2rem .6rem;}
      .depth-logo{width:120px;height:120px;}
    }
    @media(max-width:900px){
      .depth-main-content{padding:1.2rem .6rem;margin:1rem;}
      .depth-logo{width:120px;height:120px;}
      .basketball-court{padding:1rem;}
      .players-container{justify-content:center;}
      .player-card{font-size:.9rem;padding:.6rem .8rem;}
    }
    @media(max-width:600px){
      .depth-controls{gap:.5rem;}
      .control-btn{font-size:.8rem;padding:.4rem .8rem;}
    }
  </style>
</head>

<body>
  <!-- Navbar is injected by nav.js -->
  <script src="nav.js"></script>

  <div class="content-wrapper">
    <!-- ================= Banner ================= -->
    <header class="depth-hero">
      <div class="depth-hero-content">
        <img src="joelembiiddepth.png" alt="Sixers Depth Chart" class="depth-logo"/>
        <h1 class="depth-title">Sixers Depth Chart</h1>
        <p class="depth-subtitle">Interactive depth chart showing current player positions for the Philadelphia 76ers.</p>
      </div>
    </header>

    <!-- ================= Main content ================= -->
    <main class="depth-main-content">

      <!-- Export button -->
      <div class="export-container">
        <button class="export-btn" id="exportBtn">📸 Export for Social Media</button>
      </div>

      <!-- Controls -->
      <div class="depth-controls">
        <button class="control-btn active" data-view="all">All Players</button>
        <button class="control-btn" data-view="starters">Starters Only</button>
        <button class="control-btn" data-view="bench">Bench Players</button>
        <button class="control-btn" data-view="twoway">Two‑Way Contracts</button>
      </div>

      <!-- Basketball court -->
      <div class="basketball-court">
        <!-- POINT GUARD -->
        <div class="position-group" data-position="pg">
          <div class="position-header">
            <div class="position-title"><div class="position-icon">PG</div>Point Guard</div>
            <div class="depth-count">4 players</div>
          </div>
          <div class="players-container">
            <div class="player-card starter" data-player="maxey" data-type="starter">Maxey</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="mccain" data-type="bench">McCain</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="lowry" data-type="bench">Lowry</div>
            <div class="depth-separator">|</div>
            <div class="player-card twoway" data-player="sallis" data-type="twoway">Sallis</div>
          </div>
        </div>
        <!-- SHOOTING GUARD -->
        <div class="position-group" data-position="sg">
          <div class="position-header">
            <div class="position-title"><div class="position-icon">SG</div>Shooting Guard</div>
            <div class="depth-count">3 players</div>
          </div>
          <div class="players-container">
            <div class="player-card starter" data-player="grimes" data-type="starter">Grimes</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="edgecombe" data-type="bench">Edgecombe</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="gordon" data-type="bench">Gordon</div>
          </div>
        </div>
        <!-- SMALL FORWARD -->
        <div class="position-group" data-position="sf">
          <div class="position-header">
            <div class="position-title"><div class="position-icon">SF</div>Small Forward</div>
            <div class="depth-count">3 players</div>
          </div>
          <div class="players-container">
            <div class="player-card starter" data-player="george" data-type="starter">George</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="oubre" data-type="bench">Oubre</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="edwards" data-type="bench">Edwards</div>
          </div>
        </div>
        <!-- POWER FORWARD -->
        <div class="position-group" data-position="pf">
          <div class="position-header">
            <div class="position-title"><div class="position-icon">PF</div>Power Forward</div>
            <div class="depth-count">4 players</div>
          </div>
          <div class="players-container">
            <div class="player-card starter" data-player="watford" data-type="starter">Watford</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="broome" data-type="bench">Broome</div>
            <div class="depth-separator">|</div>
            <div class="player-card twoway" data-player="walker" data-type="twoway">Walker</div>
            <div class="depth-separator">|</div>
            <div class="player-card twoway" data-player="barlow" data-type="twoway">Barlow</div>
          </div>
        </div>
        <!-- CENTER -->
        <div class="position-group" data-position="c">
          <div class="position-header">
            <div class="position-title"><div class="position-icon">C</div>Center</div>
            <div class="depth-count">3 players</div>
          </div>
          <div class="players-container">
            <div class="player-card starter" data-player="embiid" data-type="starter">Embied</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="bona" data-type="bench">Bona</div>
            <div class="depth-separator">|</div>
            <div class="player-card" data-player="drummond" data-type="bench">Drummond</div>
          </div>
        </div>
      </div> <!-- .basketball-court -->

      <!-- Notes section -->
      <div class="notes-section">
        <h3 class="notes-title">Depth Chart Key & Notes</h3>
        <ul class="notes-list">
          <li><div class="note-icon roster">✓</div><span><strong>Green Cards:</strong> Starting lineup players</span></li>
          <li><div class="note-icon">🔵</div><span><strong>Blue Cards:</strong> Regular roster players</span></li>
          <li><div class="note-icon twoway">2</div><span><strong>Red Cards:</strong> Two‑Way contract players</span></li>
          <li><div class="note-icon info">ℹ</div><span>Depth chart reflects based on performance, injuries, and coaching decisions.</span></li>
          <li><div class="note-icon info">⚡</div><span>The backcourt chemistry between Maxey and McCain will be crucial for the team's defensive success.</span></li>
        </ul>
      </div>

      <!-- Back to home -->
      <div class="back-home">
        <a href="/home" class="back-home-btn">← Back to Home</a>
      </div>
    </main>
  </div> <!-- .content-wrapper -->

  <!-- Export modal (hidden by default) -->
  <div id="exportModal" class="export-modal">
    <div class="export-modal-content">
      <h2 style="color:#0a174e;margin-bottom:1rem;">Export Depth Chart</h2>
      <p style="color:#6c757d;margin-bottom:1.5rem;">Your depth chart is ready for social media sharing!</p>
      <canvas id="exportCanvas" style="display:none;"></canvas>
      <img id="exportPreview" class="export-preview" alt="Depth chart export preview">
      <div class="export-actions">
        <button id="copyBtn" class="copy-btn">📋 Copy to Clipboard</button>
        <button id="downloadBtn" class="download-btn">📥 Download Image</button>
        <button id="closeModal" class="close-btn">✕ Close</button>
      </div>
    </div>
  </div>

  <div class="player-modal" id="playerModal">
    <div class="modal-content">
      <button class="modal-close" onclick="closePlayerModal()">&times;</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      /* Controls */
      const controlBtns = document.querySelectorAll('.control-btn');
      const playerCards = document.querySelectorAll('.player-card');
      const positionGroups = document.querySelectorAll('.position-group');

      controlBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          controlBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          filterPlayers(btn.dataset.view);
        });
      });

      function filterPlayers(view) {
        playerCards.forEach(card => {
          const type = card.dataset.type;
          let show = false;
          switch(view){
            case 'all':      show = true; break;
            case 'starters': show = type === 'starter'; break;
            case 'bench':    show = type === 'bench'; break;
            case 'twoway':   show = type === 'twoway'; break;
          }
          card.style.opacity = show ? '1' : '0.3';
        });
        updateDepthCounts(view);
      }

      function updateDepthCounts(view){
        positionGroups.forEach(group => {
          const cards = Array.from(group.querySelectorAll('.player-card'));
          const count = cards.filter(c => {
            const type = c.dataset.type;
            switch(view){
              case 'all':      return true;
              case 'starters': return type==='starter';
              case 'bench':    return type==='bench';
              case 'twoway':   return type==='twoway';
            }
          }).length;
          group.querySelector('.depth-count').textContent = `${count} player${count!==1?'s':''}`;
        });
      }

      /* Export modal logic */
      const exportBtn    = document.getElementById('exportBtn');
      const exportModal  = document.getElementById('exportModal');
      const exportCanvas = document.getElementById('exportCanvas');
      const exportPreview= document.getElementById('exportPreview');
      const copyBtn      = document.getElementById('copyBtn');
      const downloadBtn  = document.getElementById('downloadBtn');
      const closeModal   = document.getElementById('closeModal');

      exportBtn.addEventListener('click', async () => {
        exportBtn.disabled = true;
        exportBtn.textContent = '📸 Generating…';
        try{
          const html2canvas = await import('https://cdn.skypack.dev/html2canvas');
          const courtEl = document.querySelector('.basketball-court');
          const canvas = await html2canvas.default(courtEl, {
            backgroundColor:'#ffffff', scale:2, useCORS:true, allowTaint:true
          });

          const footerHeight = 120;
          const finalCanvas = document.createElement('canvas');
          finalCanvas.width  = canvas.width;
          finalCanvas.height = canvas.height + footerHeight;
          const ctx = finalCanvas.getContext('2d');

          ctx.fillStyle = '#ffffff';
          ctx.fillRect(0,0,finalCanvas.width,finalCanvas.height);
          ctx.strokeStyle = '#e9ecef';
          ctx.lineWidth = 4;
          ctx.strokeRect(20,20,finalCanvas.width-40,finalCanvas.height-40);

          ctx.drawImage(canvas,20,20);

          const y = finalCanvas.height - 60;
          ctx.fillStyle = '#0a174e';
          ctx.font = 'bold 28px Georgia,serif';
          ctx.textAlign = 'center';
          ctx.fillText('SixersHoops.com', finalCanvas.width/2, y);

          ctx.fillStyle = '#0057e7';
          ctx.font = '18px Arial,sans-serif';
          ctx.fillText('Philadelphia 76ers Depth Chart', finalCanvas.width/2, y+30);

          ctx.strokeStyle = '#0a174e';
          ctx.lineWidth = 3;
          ctx.beginPath();
          ctx.moveTo(finalCanvas.width/2-150, y-20);
          ctx.lineTo(finalCanvas.width/2+150, y-20);
          ctx.stroke();

          exportModal.style.display = 'flex';
          exportPreview.src = finalCanvas.toDataURL('image/png');

          exportCanvas.width  = finalCanvas.width;
          exportCanvas.height = finalCanvas.height;
          exportCanvas.getContext('2d').drawImage(finalCanvas,0,0);
        }catch(err){
          console.error(err);
          alert('Export failed – please try again.');
        }finally{
          exportBtn.disabled = false;
          exportBtn.textContent = '📸 Export for Social Media';
        }
      });

      copyBtn.addEventListener('click', async () => {
        exportCanvas.toBlob(async blob=>{
          await navigator.clipboard.write([new ClipboardItem({ 'image/png': blob })]);
          copyBtn.textContent = '✅ Copied!';
          setTimeout(()=>copyBtn.textContent='📋 Copy to Clipboard',2000);
        });
      });

      downloadBtn.addEventListener('click', () => {
        const a = document.createElement('a');
        a.download = 'sixers-depth-chart.png';
        a.href = exportCanvas.toDataURL('image/png');
        a.click();
      });

      closeModal.addEventListener('click',()=>exportModal.style.display='none');
      exportModal.addEventListener('click',e=>{ if(e.target===exportModal) exportModal.style.display='none';});
      document.addEventListener('keydown',e=>{ if(e.key==='Escape' && exportModal.style.display==='flex') exportModal.style.display='none';});
    });

    function closePlayerModal(){ document.getElementById('playerModal').style.display='none'; }
    window.addEventListener('click',e=>{
      const m = document.getElementById('playerModal');
      if(e.target===m) m.style.display='none';
    });
  </script>
</body>
</html>```
