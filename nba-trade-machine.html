<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>NBA Trade Machine - SixersHoops</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap">
  
  <!-- Navbar Styles - Auto-updates when you modify navbar-styles.css -->
  <link rel="stylesheet" href="navbar-styles.css">
  <style>
    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
      color: #e2e8f0;
      line-height: 1.6;
      padding-top: 80px;
      margin: 0;
      min-height: 100vh;
    }

    /* Hero Section */
    .hero-section {
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      padding: 4rem 0 3rem 0;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
      opacity: 0.5;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .hero-title {
      font-size: clamp(2.5rem, 5vw, 4rem);
      font-weight: 900;
      background: linear-gradient(135deg, #ffffff 0%, #3b82f6 50%, #06b6d4 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1rem;
      letter-spacing: -2px;
      text-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
    }

    .hero-subtitle {
      font-size: 1.25rem;
      color: #94a3b8;
      font-weight: 500;
      max-width: 600px;
      margin: 0 auto 2rem auto;
      line-height: 1.7;
    }
    /* Main Container */
    .main-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem 4rem 2rem;
    }

    /* Description Section */
    .description-section {
      background: rgba(30, 41, 59, 0.8);
      backdrop-filter: blur(10px);
      border-radius: 24px;
      padding: 2.5rem;
      margin: 3rem auto;
      max-width: 900px;
      border: 1px solid rgba(59, 130, 246, 0.2);
      box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
    }

    .description-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #3b82f6, #06b6d4, #8b5cf6);
      border-radius: 24px 24px 0 0;
    }

    .description-text {
      font-size: 1.1rem;
      line-height: 1.8;
      color: #cbd5e1;
      text-align: center;
    }

    .description-text strong {
      color: #ffffff;
      font-weight: 700;
    }

    /* Control Panel */
    .control-panel {
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 2rem;
      margin: 3rem auto;
      max-width: 800px;
      border: 1px solid rgba(59, 130, 246, 0.3);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
    }

    .control-title {
      text-align: center;
      font-size: 1.5rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 2rem;
      background: linear-gradient(135deg, #ffffff 0%, #3b82f6 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .control-buttons {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .control-btn {
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      color: #ffffff;
      font-weight: 600;
      font-size: 1rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 
        0 8px 20px rgba(59, 130, 246, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
      min-width: 140px;
    }

    .control-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .control-btn:hover::before {
      left: 100%;
    }

    .control-btn:hover {
      transform: translateY(-2px);
      box-shadow: 
        0 12px 30px rgba(59, 130, 246, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }

    .control-btn:active {
      transform: translateY(0);
    }

    .control-btn:disabled {
      background: linear-gradient(135deg, #64748b 0%, #475569 100%);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    /* Trade Container */
    .trade-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 2rem;
      margin: 3rem 0;
      padding: 0 1rem;
    }

    /* Team Block */
    .team-block {
      background: rgba(30, 41, 59, 0.9);
      backdrop-filter: blur(15px);
      border-radius: 24px;
      border: 1px solid rgba(59, 130, 246, 0.2);
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      padding: 2rem;
      position: relative;
      transition: all 0.4s ease;
      overflow: hidden;
    }

    .team-block::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #3b82f6, #06b6d4, #8b5cf6);
      border-radius: 24px 24px 0 0;
    }

    .team-block:hover {
      transform: translateY(-8px);
      box-shadow: 
        0 35px 70px rgba(0, 0, 0, 0.5),
        0 0 0 1px rgba(59, 130, 246, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    /* Team Header */
    .team-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      border-radius: 16px;
      padding: 1.25rem 1.5rem;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(59, 130, 246, 0.3);
      box-shadow: 
        0 8px 25px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
    }

    .team-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, #3b82f6, #06b6d4);
      border-radius: 16px 16px 0 0;
    }
    .team-label {
      color: #ffffff;
      font-weight: 700;
      font-size: 1.1rem;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .team-header select {
      flex: 1;
      font-size: 1rem;
      font-weight: 600;
      border-radius: 12px;
      border: 1px solid rgba(59, 130, 246, 0.3);
      padding: 0.75rem 1rem;
      background: rgba(15, 23, 42, 0.8);
      color: #e2e8f0;
      box-shadow: 
        0 4px 15px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .team-header select:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 
        0 0 0 3px rgba(59, 130, 246, 0.2),
        0 4px 15px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .team-header select option {
      background: #1e293b;
      color: #e2e8f0;
      padding: 0.5rem;
    }

    .remove-team-btn {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      color: #ffffff;
      border: none;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: all 0.3s ease;
      box-shadow: 
        0 4px 15px rgba(239, 68, 68, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .remove-team-btn:hover {
      transform: translateY(-2px);
      box-shadow: 
        0 6px 20px rgba(239, 68, 68, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }
    /* Players List */
    .players-list {
      list-style: none;
      padding: 1rem;
      margin: 0 0 1.5rem 0;
      max-height: 400px;
      overflow-y: auto;
      border-radius: 16px;
      background: rgba(15, 23, 42, 0.6);
      border: 1px solid rgba(59, 130, 246, 0.2);
      box-shadow: 
        0 8px 25px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
    }

    .players-list::-webkit-scrollbar {
      width: 8px;
    }

    .players-list::-webkit-scrollbar-track {
      background: rgba(30, 41, 59, 0.5);
      border-radius: 4px;
    }

    .players-list::-webkit-scrollbar-thumb {
      background: linear-gradient(135deg, #3b82f6, #06b6d4);
      border-radius: 4px;
    }

    .players-list::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(135deg, #2563eb, #0891b2);
    }

    .players-list li {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      background: rgba(30, 41, 59, 0.8);
      border-radius: 12px;
      font-size: 1rem;
      margin-bottom: 0.75rem;
      border: 1px solid rgba(59, 130, 246, 0.1);
      box-shadow: 
        0 4px 15px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      position: relative;
      transition: all 0.3s ease;
      cursor: pointer;
      backdrop-filter: blur(10px);
    }

    .players-list li:last-child {
      margin-bottom: 0;
    }

    .players-list li:hover {
      background: rgba(59, 130, 246, 0.1);
      border-color: rgba(59, 130, 246, 0.3);
      transform: translateX(4px);
      box-shadow: 
        0 6px 20px rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(59, 130, 246, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .players-list li.selected {
      background: rgba(59, 130, 246, 0.2);
      border-color: #3b82f6;
      box-shadow: 
        0 6px 20px rgba(59, 130, 246, 0.3),
        0 0 0 1px #3b82f6,
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }
    .player-avatar {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      font-weight: 700;
      color: #ffffff;
      flex-shrink: 0;
      box-shadow: 
        0 4px 15px rgba(59, 130, 246, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.1);
      letter-spacing: 0.5px;
      text-transform: uppercase;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    .players-list li:hover .player-avatar {
      transform: scale(1.1);
      box-shadow: 
        0 6px 20px rgba(59, 130, 246, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }

    .players-list input[type=checkbox] {
      width: 20px;
      height: 20px;
      accent-color: #3b82f6;
      cursor: pointer;
      border-radius: 4px;
      border: 2px solid rgba(59, 130, 246, 0.3);
      background: rgba(15, 23, 42, 0.8);
      transition: all 0.3s ease;
      flex-shrink: 0;
    }

    .players-list input[type=checkbox]:checked {
      background: #3b82f6;
      border-color: #3b82f6;
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
    }

    .players-list label {
      flex: 1;
      cursor: pointer;
      font-weight: 600;
      color: #e2e8f0;
      letter-spacing: 0.3px;
      transition: color 0.3s ease;
    }

    .players-list li:hover label {
      color: #ffffff;
    }

    .players-list .salary-cell {
      color: #06b6d4;
      min-width: 120px;
      text-align: right;
      font-weight: 700;
      font-size: 1rem;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }
    /* Totals Section */
    .totals {
      margin: 1.5rem 0;
      padding: 1.25rem;
      background: rgba(15, 23, 42, 0.8);
      border-radius: 16px;
      border: 1px solid rgba(59, 130, 246, 0.2);
      box-shadow: 
        0 8px 25px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
    }

    .totals div {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 700;
      font-size: 1.1rem;
      color: #e2e8f0;
    }

    .totals span {
      color: #06b6d4;
      font-size: 1.2rem;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    /* Payroll Box */
    .payroll-box {
      margin-top: 1.5rem;
      background: rgba(15, 23, 42, 0.9);
      border-radius: 16px;
      padding: 1.5rem;
      border: 1px solid rgba(59, 130, 246, 0.3);
      box-shadow: 
        0 8px 25px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(15px);
      position: relative;
      overflow: hidden;
    }

    .payroll-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, #3b82f6, #06b6d4, #8b5cf6);
      border-radius: 16px 16px 0 0;
    }

    .payroll-box .line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding: 0.5rem 0;
      border-bottom: 1px solid rgba(59, 130, 246, 0.1);
    }

    .payroll-box .line:last-child {
      margin-bottom: 0;
      border-bottom: none;
    }

    .payroll-box .level {
      font-weight: 700;
      color: #e2e8f0;
      font-size: 1rem;
    }

    .payroll-box .over {
      color: #ef4444;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(239, 68, 68, 0.3);
    }

    .payroll-box .under {
      color: #10b981;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
    }
    /* Analyze Trade Button */
    .analyze-section {
      text-align: center;
      margin: 4rem 0;
    }

    .trade-btn {
      background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 50%, #06b6d4 100%);
      color: #ffffff;
      font-size: 1.3rem;
      font-weight: 800;
      border-radius: 20px;
      padding: 1.5rem 4rem;
      border: none;
      cursor: pointer;
      transition: all 0.4s ease;
      box-shadow: 
        0 15px 35px rgba(139, 92, 246, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      letter-spacing: 1px;
      text-transform: uppercase;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(10px);
    }

    .trade-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s ease;
    }

    .trade-btn:hover::before {
      left: 100%;
    }

    .trade-btn:hover {
      transform: translateY(-4px) scale(1.05);
      box-shadow: 
        0 25px 50px rgba(139, 92, 246, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    }

    .trade-btn:active {
      transform: translateY(-2px) scale(1.02);
    }

    /* Result Block */
    .result-block {
      background: rgba(30, 41, 59, 0.9);
      backdrop-filter: blur(15px);
      border-radius: 24px;
      max-width: 900px;
      margin: 3rem auto;
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      padding: 2.5rem;
      font-size: 1.1rem;
      font-weight: 500;
      color: #e2e8f0;
      text-align: left;
      border: 1px solid rgba(59, 130, 246, 0.2);
      position: relative;
      overflow: hidden;
    }

    .result-block::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      border-radius: 24px 24px 0 0;
    }

    .result-block.success::before {
      background: linear-gradient(90deg, #10b981, #059669);
    }

    .result-block.fail::before {
      background: linear-gradient(90deg, #ef4444, #dc2626);
    }

    .result-block.success {
      border-color: rgba(16, 185, 129, 0.3);
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.4),
        0 0 0 1px rgba(16, 185, 129, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .result-block.fail {
      border-color: rgba(239, 68, 68, 0.3);
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.4),
        0 0 0 1px rgba(239, 68, 68, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }
    .result-title {
      font-size: 1.5rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
      color: #ffffff;
      background: linear-gradient(135deg, #ffffff 0%, #3b82f6 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: 0.5px;
    }

    .result-block h3 {
      color: #ffffff;
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .result-block p {
      margin-bottom: 0.75rem;
      line-height: 1.7;
    }

    .result-block strong {
      color: #ffffff;
    }

    .result-block .under {
      color: #10b981;
      font-weight: 700;
    }

    .result-block .over {
      color: #ef4444;
      font-weight: 700;
    }

    /* Back Home Button */
    .back-home-section {
      text-align: center;
      margin: 4rem 0;
    }

    .back-home-btn {
      display: inline-block;
      background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
      color: #ffffff;
      padding: 1rem 2.5rem;
      border-radius: 16px;
      font-size: 1.1rem;
      font-weight: 700;
      text-decoration: none;
      box-shadow: 
        0 8px 25px rgba(30, 41, 59, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      border: 1px solid rgba(59, 130, 246, 0.2);
      backdrop-filter: blur(10px);
      letter-spacing: 0.5px;
    }

    .back-home-btn:hover {
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      transform: translateY(-2px);
      box-shadow: 
        0 12px 35px rgba(59, 130, 246, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      color: #ffffff;
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
      .trade-container {
        grid-template-columns: 1fr;
        max-width: 600px;
        margin: 3rem auto;
      }
      
      .hero-title {
        font-size: 3rem;
      }
    }

    @media (max-width: 768px) {
      .main-container {
        padding: 0 1rem 4rem 1rem;
      }

      .hero-section {
        padding: 3rem 0 2rem 0;
      }

      .hero-title {
        font-size: 2.5rem;
      }

      .hero-subtitle {
        font-size: 1.1rem;
      }

      .description-section {
        padding: 2rem;
        margin: 2rem auto;
      }

      .control-panel {
        padding: 1.5rem;
        margin: 2rem auto;
      }

      .control-buttons {
        flex-direction: column;
        gap: 1rem;
      }

      .control-btn {
        width: 100%;
      }

      .team-block {
        padding: 1.5rem;
      }

      .team-header {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
      }

      .team-header select {
        width: 100%;
      }

      .trade-btn {
        padding: 1.25rem 2.5rem;
        font-size: 1.1rem;
      }

      .result-block {
        padding: 2rem;
        margin: 2rem auto;
      }

      .back-home-btn {
        padding: 0.875rem 2rem;
        font-size: 1rem;
      }
    }

    @media (max-width: 480px) {
      .hero-title {
        font-size: 2rem;
      }

      .description-section,
      .control-panel,
      .team-block,
      .result-block {
        padding: 1.5rem;
      }

      .trade-btn {
        padding: 1rem 2rem;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation will be automatically injected here by nav.js -->

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">🔄 NBA Trade Machine</h1>
      <p class="hero-subtitle">Simulate NBA trades, analyze salary cap implications, and explore potential trade scenarios with our advanced trade machine.</p>
    </div>
  </section>

  <!-- Main Container -->
  <div class="main-container">
    <!-- Description Section -->
    <section class="description-section">
      <div class="description-text">
        <strong>Welcome to the NBA Trade Machine!</strong> This interactive tool allows you to simulate trades between NBA teams, analyze salary cap implications, and explore potential trade scenarios. Select players from different teams, analyze the financial impact, and see if your proposed trades would work under NBA salary cap rules.
      </div>
    </section>

    <!-- Control Panel -->
    <section class="control-panel">
      <h2 class="control-title">Trade Controls</h2>
      <div class="control-buttons">
        <button class="control-btn" onclick="addTeam()">+ Add Team</button>
        <button class="control-btn" onclick="clearAllTrades()">Clear All</button>
        <button class="control-btn" onclick="randomTrade()">Random Trade</button>
      </div>
    </section>

    <!-- Trade Container -->
    <div class="trade-container" id="tradeContainer">
      <!-- Teams will be dynamically added here -->
    </div>

    <!-- Analyze Section -->
    <section class="analyze-section">
      <button class="trade-btn" onclick="analyzeTrade()">📊 Analyze Trade</button>
    </section>

    <!-- Results -->
    <div id="tradeResult" class="result-block" style="display: none;">
      <div class="result-title">Trade Analysis</div>
      <div id="resultContent"></div>
    </div>

    <!-- Back Home -->
    <section class="back-home-section">
      <a href="index.html" class="back-home-btn">← Back to Home</a>
    </section>
  </div>

  <!-- Navigation JavaScript - Auto-updates when you modify nav.js -->
  <script src="nav.js"></script>
  
  <script>
    // NBA Teams data
    const nbaTeams = {
      'PHI': { name: 'Philadelphia 76ers', color: '#0057e7' },
      'LAL': { name: 'Los Angeles Lakers', color: '#552583' },
      'GSW': { name: 'Golden State Warriors', color: '#1D428A' },
      'BOS': { name: 'Boston Celtics', color: '#007A33' },
      'MIA': { name: 'Miami Heat', color: '#98002E' },
      'BRK': { name: 'Brooklyn Nets', color: '#000000' },
      'MIL': { name: 'Milwaukee Bucks', color: '#00471B' },
      'DAL': { name: 'Dallas Mavericks', color: '#00538C' },
      'DEN': { name: 'Denver Nuggets', color: '#0E2240' },
      'PHX': { name: 'Phoenix Suns', color: '#1D1160' }
    };

    // Sample player data (you can expand this with real NBA data)
    const playersData = {
      'PHI': [
        { name: "Joel Embiid", salary: 51415938, position: "C" },
        { name: "Tyrese Maxey", salary: 35000000, position: "PG" },
        { name: "Paul George", salary: 49176471, position: "SF" },
        { name: "Caleb Martin", salary: 8000000, position: "SF" },
        { name: "Kelly Oubre Jr.", salary: 8018519, position: "SF" },
        { name: "Kyle Lowry", salary: 2087519, position: "PG" },
        { name: "Andre Drummond", salary: 5000000, position: "C" },
        { name: "Eric Gordon", salary: 3303771, position: "SG" },
        { name: "Reggie Jackson", salary: 2087519, position: "PG" },
        { name: "Guerschon Yabusele", salary: 2087519, position: "PF" }
      ],
      'LAL': [
        { name: "LeBron James", salary: 48728845, position: "SF" },
        { name: "Anthony Davis", salary: 43219440, position: "PF" },
        { name: "Russell Westbrook", salary: 47063478, position: "PG" },
        { name: "Austin Reaves", salary: 12000000, position: "SG" }
      ],
      'GSW': [
        { name: "Stephen Curry", salary: 55761217, position: "PG" },
        { name: "Klay Thompson", salary: 43219440, position: "SG" },
        { name: "Draymond Green", salary: 27586224, position: "PF" },
        { name: "Andrew Wiggins", salary: 26271818, position: "SF" }
      ]
    };

    let teams = [];
    let tradeId = 0;

    function addTeam() {
      const teamId = `team-${++tradeId}`;
      const teamBlock = createTeamBlock(teamId);
      document.getElementById('tradeContainer').appendChild(teamBlock);
    }

    function createTeamBlock(teamId) {
      const div = document.createElement('div');
      div.className = 'team-block';
      div.id = teamId;
      
      div.innerHTML = `
        <div class="team-header">
          <span class="team-label">Team</span>
          <select onchange="loadTeamPlayers('${teamId}', this.value)">
            <option value="">Select Team</option>
            ${Object.entries(nbaTeams).map(([code, team]) => 
              `<option value="${code}">${team.name}</option>`
            ).join('')}
          </select>
          <button class="remove-team-btn" onclick="removeTeam('${teamId}')" title="Remove Team">×</button>
        </div>
        <ul class="players-list" id="${teamId}-players">
          <li style="text-align: center; color: #666; font-style: italic; padding: 2rem;">
            Select a team to view players
          </li>
        </ul>
        <div class="totals">
          <div>Selected: <span id="${teamId}-total">$0</span></div>
        </div>
        <div class="payroll-box">
          <div class="line"><span class="level">Team Salary:</span> <span id="${teamId}-team-salary">$0</span></div>
          <div class="line"><span class="level">Luxury Tax:</span> <span id="${teamId}-luxury-tax">$0</span></div>
        </div>
      `;
      
      return div;
    }

    function loadTeamPlayers(teamId, teamCode) {
      if (!teamCode) return;
      
      const players = playersData[teamCode] || [];
      const playersList = document.getElementById(`${teamId}-players`);
      
      if (players.length === 0) {
        playersList.innerHTML = '<li style="text-align: center; color: #666; font-style: italic; padding: 2rem;">No players available</li>';
        return;
      }
      
      playersList.innerHTML = players.map(player => `
        <li>
          <input type="checkbox" id="${teamId}-${player.name}" onchange="updateTotals('${teamId}')">
          <div class="player-avatar">${player.name.split(' ').map(n => n[0]).join('')}</div>
          <label for="${teamId}-${player.name}">${player.name}</label>
          <span class="salary-cell">$${player.salary.toLocaleString()}</span>
        </li>
      `).join('');
      
      updateTotals(teamId);
    }

    function updateTotals(teamId) {
      const checkboxes = document.querySelectorAll(`#${teamId}-players input[type="checkbox"]:checked`);
      let total = 0;
      
      checkboxes.forEach(checkbox => {
        const salaryText = checkbox.closest('li').querySelector('.salary-cell').textContent;
        const salary = parseInt(salaryText.replace(/[$,]/g, ''));
        total += salary;
      });
      
      document.getElementById(`${teamId}-total`).textContent = `$${total.toLocaleString()}`;
      
      // Update team salary and luxury tax (simplified calculation)
      const teamSalary = total;
      const luxuryTaxThreshold = 165000000; // Approximate 2024-25 luxury tax threshold
      const luxuryTax = teamSalary > luxuryTaxThreshold ? (teamSalary - luxuryTaxThreshold) * 1.5 : 0;
      
      document.getElementById(`${teamId}-team-salary`).textContent = `$${teamSalary.toLocaleString()}`;
      document.getElementById(`${teamId}-luxury-tax`).textContent = luxuryTax > 0 ? 
        `$${luxuryTax.toLocaleString()}` : '$0';
      
      // Color coding
      const luxuryElement = document.getElementById(`${teamId}-luxury-tax`);
      luxuryElement.className = luxuryTax > 0 ? 'over' : 'under';
    }

    function removeTeam(teamId) {
      document.getElementById(teamId).remove();
    }

    function clearAllTrades() {
      document.getElementById('tradeContainer').innerHTML = '';
      document.getElementById('tradeResult').style.display = 'none';
      tradeId = 0;
    }

    function randomTrade() {
      clearAllTrades();
      
      // Add two random teams
      addTeam();
      addTeam();
      
      const teamCodes = Object.keys(nbaTeams);
      const team1Code = teamCodes[Math.floor(Math.random() * teamCodes.length)];
      let team2Code = teamCodes[Math.floor(Math.random() * teamCodes.length)];
      while (team2Code === team1Code) {
        team2Code = teamCodes[Math.floor(Math.random() * teamCodes.length)];
      }
      
      // Load teams
      const selects = document.querySelectorAll('.team-block select');
      selects[0].value = team1Code;
      selects[1].value = team2Code;
      
      loadTeamPlayers('team-1', team1Code);
      loadTeamPlayers('team-2', team2Code);
      
      // Select random players
      setTimeout(() => {
        const checkboxes1 = document.querySelectorAll('#team-1-players input[type="checkbox"]');
        const checkboxes2 = document.querySelectorAll('#team-2-players input[type="checkbox"]');
        
        if (checkboxes1.length > 0) {
          checkboxes1[Math.floor(Math.random() * checkboxes1.length)].checked = true;
          updateTotals('team-1');
        }
        
        if (checkboxes2.length > 0) {
          checkboxes2[Math.floor(Math.random() * checkboxes2.length)].checked = true;
          updateTotals('team-2');
        }
      }, 100);
    }

    function analyzeTrade() {
      const teams = document.querySelectorAll('.team-block');
      if (teams.length < 2) {
        alert('Please add at least 2 teams to analyze a trade.');
        return;
      }
      
      let analysis = '<h3>Trade Analysis Results</h3>';
      let totalSalaryOut = 0;
      let totalSalaryIn = 0;
      let isValid = true;
      let reasons = [];
      
      teams.forEach((team, index) => {
        const teamId = team.id;
        const selectedPlayers = team.querySelectorAll('input[type="checkbox"]:checked');
        const teamSelect = team.querySelector('select');
        const teamName = teamSelect.options[teamSelect.selectedIndex]?.text || 'Unknown Team';
        
        if (selectedPlayers.length === 0) {
          reasons.push(`${teamName} has no players selected`);
          isValid = false;
          return;
        }
        
        let teamSalary = 0;
        selectedPlayers.forEach(player => {
          const salaryText = player.closest('li').querySelector('.salary-cell').textContent;
          const salary = parseInt(salaryText.replace(/[$,]/g, ''));
          teamSalary += salary;
        });
        
        if (index === 0) {
          totalSalaryOut = teamSalary;
        } else {
          totalSalaryIn += teamSalary;
        }
        
        analysis += `<p><strong>${teamName}:</strong> ${selectedPlayers.length} player(s), $${teamSalary.toLocaleString()}</p>`;
      });
      
      // Simple trade validity check (NBA salary matching rules are complex)
      const salaryDifference = Math.abs(totalSalaryIn - totalSalaryOut);
      const allowedDifference = Math.max(totalSalaryOut * 0.25 + 100000, 5000000);
      
      if (salaryDifference > allowedDifference) {
        isValid = false;
        reasons.push(`Salary difference too large: $${salaryDifference.toLocaleString()} (max allowed: $${allowedDifference.toLocaleString()})`);
      }
      
      analysis += `<hr>`;
      analysis += `<p><strong>Salary Impact:</strong> ${totalSalaryIn > totalSalaryOut ? '+' : ''}$${(totalSalaryIn - totalSalaryOut).toLocaleString()}</p>`;
      analysis += `<p><strong>Trade Status:</strong> <span class="${isValid ? 'under' : 'over'}">${isValid ? 'VALID' : 'INVALID'}</span></p>`;
      
      if (!isValid) {
        analysis += `<p><strong>Issues:</strong></p><ul>`;
        reasons.forEach(reason => {
          analysis += `<li>${reason}</li>`;
        });
        analysis += `</ul>`;
      }
      
      const resultBlock = document.getElementById('tradeResult');
      resultBlock.className = `result-block ${isValid ? 'success' : 'fail'}`;
      resultBlock.style.display = 'block';
      document.getElementById('resultContent').innerHTML = analysis;
      
      resultBlock.scrollIntoView({ behavior: 'smooth' });
    }

    // Initialize with one team
    document.addEventListener('DOMContentLoaded', function() {
      addTeam();
    });

    // Mobile hamburger menu functionality
    document.addEventListener('DOMContentLoaded', function() {
      const hamburger = document.querySelector('.hamburger');
      const navRight = document.querySelector('.nav-right');
      
      if (hamburger && navRight) {
        hamburger.addEventListener('click', function() {
          navRight.classList.toggle('open');
          hamburger.setAttribute('aria-expanded', 
            hamburger.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'
          );
        });
      }
    });
  </script>
</body>
</html>
